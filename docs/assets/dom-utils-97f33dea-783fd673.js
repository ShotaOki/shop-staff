var I="/",j="./",M=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),L=function(r,e){for(var a=[],t=0,n=0,i="",h=e&&e.delimiter||I,c=e&&e.delimiters||j,s=!1,f;(f=M.exec(r))!==null;){var v=f[0],u=f[1],l=f.index;if(i+=r.slice(n,l),n=l+v.length,u){i+=u[1],s=!0;continue}var d="",o=r[n],m=f[2],A=f[3],E=f[4],x=f[5];if(!s&&i.length){var O=i.length-1;c.indexOf(i[O])>-1&&(d=i[O],i=i.slice(0,O))}i&&(a.push(i),i="",s=!1);var C=d!==""&&o!==void 0&&o!==d,U=x==="+"||x==="*",$=x==="?"||x==="*",T=d||h,_=A||E;a.push({name:m||t++,prefix:d,delimiter:T,optional:$,repeat:U,partial:C,pattern:_?b(_):"[^"+g(T)+"]+?"})}return(i||n<r.length)&&a.push(i+r.substr(n)),a},g=function(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")},b=function(r){return r.replace(/([=!:$/()])/g,"\\$1")},D=function(r){return r&&r.sensitive?"":"i"},H=function(r,e){if(!e)return r;var a=r.source.match(/\((?!\?)/g);if(a)for(var t=0;t<a.length;t++)e.push({name:t,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return r},K=function(r,e,a){for(var t=[],n=0;n<r.length;n++)t.push(w(r[n],e,a).source);return new RegExp("(?:"+t.join("|")+")",D(a))},F=function(r,e,a){return W(L(r,a),e,a)},W=function(r,e,a){a=a||{};for(var t=a.strict,n=a.end!==!1,i=g(a.delimiter||I),h=a.delimiters||j,c=[].concat(a.endsWith||[]).map(g).concat("$").join("|"),s="",f=!1,v=0;v<r.length;v++){var u=r[v];if(typeof u=="string")s+=g(u),f=v===r.length-1&&h.indexOf(u[u.length-1])>-1;else{var l=g(u.prefix||""),d=u.repeat?"(?:"+u.pattern+")(?:"+l+"(?:"+u.pattern+"))*":u.pattern;e&&e.push(u),u.optional?u.partial?s+=l+"("+d+")?":s+="(?:"+l+"("+d+"))?":s+=l+"("+d+")"}}return n?(t||(s+="(?:"+i+")?"),s+=c==="$"?"$":"(?="+c+")"):(t||(s+="(?:"+i+"(?="+c+"))?"),f||(s+="(?="+i+"|"+c+")")),new RegExp("^"+s,D(a))},w=function(r,e,a){return r instanceof RegExp?H(r,e):Array.isArray(r)?K(r,e,a):F(r,e,a)},q=function(r,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(r)},X=function(r,e){return q(r,e)?r.substr(e.length):r},z=function(r){return r.charAt(r.length-1)==="/"?r.slice(0,-1):r},Y=function(r){return r.charAt(0)==="/"?r:"/"+r},Z=function(r){return r.charAt(0)==="/"?r.substr(1):r},G=function(r){var e=r||"/",a="",t="",n=e.indexOf("#");n!==-1&&(t=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");return i!==-1&&(a=e.substr(i),e=e.substr(0,i)),{pathname:e,search:a==="?"?"":a,hash:t==="#"?"":t,query:{},key:""}},V=function(r){var e=r.pathname,a=r.search,t=r.hash,n=e||"/";return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n},Q=function(r){return r?(/^[?#]/.test(r)?r.slice(1):r).split("&").reduce(function(e,a){var t=a.split("="),n=t[0],i=t[1];return e[n]=i?decodeURIComponent(i.replace(/\+/g," ")):"",e},{}):{}},y=function(r){return r.charAt(0)==="/"},k=function(r){return Math.random().toString(36).substr(2,r)},R=function(r,e){for(var a=e,t=a+1,n=r.length;t<n;a+=1,t+=1)r[a]=r[t];r.pop()},B=function(r,e){e===void 0&&(e="");var a=e&&e.split("/")||[],t,n=0,i=r&&r.split("/")||[],h=r&&y(r),c=e&&y(e),s=h||c;if(r&&y(r)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var f=a[a.length-1];t=f==="."||f===".."||f===""}else t=!1;for(var v=a.length;v>=0;v--){var u=a[v];u==="."?R(a,v):u===".."?(R(a,v),n++):n&&(R(a,v),n--)}if(!s)for(;n--;n)a.unshift("..");s&&a[0]!==""&&(!a[0]||!y(a[0]))&&a.unshift("");var l=a.join("/");return t&&l.substr(-1)!=="/"&&(l+="/"),l},p=function(r,e){if(r===e)return!0;if(r==null||e==null)return!1;if(Array.isArray(r))return Array.isArray(e)&&r.length===e.length&&r.every(function(s,f){return p(s,e[f])});var a=typeof r,t=typeof e;if(a!==t)return!1;if(a==="object"){var n=r.valueOf(),i=e.valueOf();if(n!==r||i!==e)return p(n,i);var h=Object.keys(r),c=Object.keys(e);return h.length!==c.length?!1:h.every(function(s){return p(r[s],e[s])})}return!1},rr=function(r,e){return r.pathname===e.pathname&&r.search===e.search&&r.hash===e.hash&&r.key===e.key&&p(r.state,e.state)},er=function(r,e,a,t){var n;typeof r=="string"?(n=G(r),e!==void 0&&(n.state=e)):(n=Object.assign({pathname:""},r),n.search&&n.search.charAt(0)!=="?"&&(n.search="?"+n.search),n.hash&&n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash),e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return n.key=a,t?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=B(n.pathname,t.pathname)):n.pathname=t.pathname:n.pathname||(n.pathname="/"),n.query=Q(n.search||""),n},P=0,S={},N=1e4,J=function(r,e){var a=""+e.end+e.strict,t=S[a]||(S[a]={}),n=JSON.stringify(r);if(t[n])return t[n];var i=[],h=w(r,i,e),c={re:h,keys:i};return P<N&&(t[n]=c,P+=1),c},ar=function(r,e){e===void 0&&(e={}),typeof e=="string"&&(e={path:e});var a=e.path,t=a===void 0?"/":a,n=e.exact,i=n===void 0?!1:n,h=e.strict,c=h===void 0?!1:h,s=J(t,{end:i,strict:c}),f=s.re,v=s.keys,u=f.exec(r);if(!u)return null;var l=u[0],d=u.slice(1),o=r===l;return i&&!o?null:{path:t,url:t==="/"&&l===""?"/":l,isExact:o,params:v.reduce(function(m,A,E){return m[A.name]=d[E],m},{})}},nr=function(r,e){return r==null&&e==null?!0:e==null?!1:r&&e&&r.path===e.path&&r.url===e.url&&p(r.params,e.params)},tr=function(r,e,a){return a(r.confirm(e))},ir=function(r){return r.metaKey||r.altKey||r.ctrlKey||r.shiftKey},sr=function(r){var e=r.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:r.history&&"pushState"in r.history},ur=function(r){return r.userAgent.indexOf("Trident")===-1},fr=function(r){return r.userAgent.indexOf("Firefox")===-1},cr=function(r,e){return e.state===void 0&&r.userAgent.indexOf("CriOS")===-1},vr=function(r,e){var a=r[e],t="__storage_test__";try{return a.setItem(t,t),a.removeItem(t),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&a.length!==0}};export{nr as a,ur as b,z as c,Y as d,fr as e,V as f,tr as g,vr as h,q as i,X as j,er as k,k as l,ar as m,Z as n,cr as o,rr as p,ir as q,sr as s};
