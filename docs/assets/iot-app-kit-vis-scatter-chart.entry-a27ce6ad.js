import{h as m,r as g}from"./index-58060d13.js";import{S as C,r as z}from"./utils-f2d0253a-570d2917.js";import{D as O}from"./dataConstants-8e079f60-a2a46658.js";import{p as b,P as l,u as F,N as T}from"./pointMesh-777e5aad-74f0373a.js";import{c as E,a as D,n as w,b as N}from"./clipSpaceConversion-f5882815-33f72eac.js";import"./time-051aeed0-3f16b7f0.js";import{D as A}from"./constants-ebd051c2-d612ae6c.js";import"./v4-9366210a-0300d487.js";import{D as B}from"./chartDefaults-1d69f98e-b06eeb18.js";import{v as U}from"./validate-9ad36805-f19f52c8.js";import"./_commonjsHelpers-1d681858-0cf2a93b.js";var S=function(e){var t=e.dataStreams,r=e.container,i=e.viewport,c=e.minBufferSize,a=e.bufferFactor,f=e.onUpdate,h=e.thresholdOptions,d=e.thresholds,s=new C,n=E(i),u=z(d),o=[];return o[l]=b({dataStreams:t,minBufferSize:c,bufferFactor:a,toClipSpace:n,thresholdOptions:h,thresholds:u}),o.forEach(function(p){return s.add(p)}),D({scene:s,viewport:i,container:r,toClipSpace:n,onUpdate:f})},I=function(e){return e.geometry.attributes.position.array.length/T},y=function(e){var t=e.scene,r=e.dataStreams,i=e.chartSize,c=e.container,a=e.viewport,f=e.hasDataChanged,h=e.bufferFactor,d=e.minBufferSize,s=e.onUpdate,n=e.thresholdOptions,u=e.thresholds,o=e.hasAnnotationChanged,p=t.scene.children[l],v=I(p)<w(r);return v||N(a,t.toClipSpace)||o?S({dataStreams:r,chartSize:i,container:c,viewport:a,minBufferSize:d,bufferFactor:h,onUpdate:s,thresholdOptions:n,thresholds:u}):(f&&F(r,p,t.toClipSpace),t)},M=1e3,R=2,P=function(e){return m("iot-app-kit-vis-tooltip",Object.assign({},e,{visualizesAlarms:!1,supportString:!1,dataAlignment:A.EITHER}))},J=function(){function e(t){g(this,t),this.gestures=!0,this.isEditing=!1,this.bufferFactor=R,this.minBufferSize=M}return e.prototype.componentWillRender=function(){U(this)},e.prototype.render=function(){var t=this;return m("iot-app-kit-vis-size-provider",{size:this.size,renderFunc:function(r){return m("iot-app-kit-vis-webgl-base-chart",{supportedDataTypes:[O.NUMBER],axis:t.axis,gestures:t.gestures,configId:t.widgetId,legend:t.legend,annotations:t.annotations,trends:t.trends,updateChartScene:y,createChartScene:S,size:Object.assign(Object.assign(Object.assign({},B.size),t.size),r),dataStreams:t.dataStreams,alarms:t.alarms,viewport:t.viewport,setViewport:t.setViewport,minBufferSize:t.minBufferSize,bufferFactor:t.bufferFactor,isEditing:t.isEditing,renderTooltip:P,aggregationType:t.aggregationType,visualizesAlarms:!1,messageOverrides:t.messageOverrides,precision:t.significantDigits})}})},e}();export{J as iot_app_kit_vis_scatter_chart};
