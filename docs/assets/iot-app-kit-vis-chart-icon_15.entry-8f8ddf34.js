import{h as w,g as on,H as sf,r as kt,b as uf}from"./index-58060d13.js";import{b as Za,i as Tn,a as lf,c as iu,d as au,e as So,f as ff,g as cf,h as hf,j as df,k as gt,l as Co,m as Mo,n as De,o as Hn,p as Nr,q as Ir}from"./utils-f2d0253a-570d2917.js";import{i as pf,w as pt}from"./webglContext-02b063c2-964eb8a8.js";import{S as zr,T as Xn,D as gf}from"./dataConstants-8e079f60-a2a46658.js";import{c as ou,a as Dt}from"./_commonjsHelpers-1d681858-0cf2a93b.js";import{d as vf,p as ji,S as mf}from"./time-051aeed0-3f16b7f0.js";import{D as yf,L as Rr,S as wf,a as xa}from"./constants-ebd051c2-d612ae6c.js";import{g as xf}from"./common-a5fcad18-1e89ba4a.js";import{T as su,S as uu,a as lu,b as fu}from"./dataTypes-aaacf3dd-f0dc34ae.js";import{a as Xi,b as bf,D as gr}from"./chartDefaults-1d69f98e-b06eeb18.js";import{a as cu,V as hu,g as du,b as pu,s as _f,N as Tf,c as Sf,d as Cf,e as Mf,f as gu}from"./Value-56415411-2ca45804.js";var Ja=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,u=a.length;o<u;o++,i++)r[i]=a[o];return r};function Af(t){return t===null?NaN:+t}var Ef=Za(lf),Df=Ef.right;Za(Af).center;var ba=Math.sqrt(50),_a=Math.sqrt(10),Ta=Math.sqrt(2);function Of(t,e,n){var r,i=-1,a,o,u;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(u=vu(t,e,n))===0||!isFinite(u))return[];if(u>0){var l=Math.round(t/u),f=Math.round(e/u);for(l*u<t&&++l,f*u>e&&--f,o=new Array(a=f-l+1);++i<a;)o[i]=(l+i)*u}else{u=-u;var l=Math.round(t*u),f=Math.round(e*u);for(l/u<t&&++l,f/u>e&&--f,o=new Array(a=f-l+1);++i<a;)o[i]=(l+i)/u}return r&&o.reverse(),o}function vu(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ba?10:a>=_a?5:a>=Ta?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ba?10:a>=_a?5:a>=Ta?2:1)}function Sa(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ba?i*=10:a>=_a?i*=5:a>=Ta&&(i*=2),e<t?-i:i}var Ee=16,Ao={normal:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",viewBox:"0 0 16 16",fill:t?""+t:"#1d8102"},w("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"}),w("path",{d:"M7 8.6l-2-2L3.6 8 7 11.4l4.9-4.9-1.4-1.4z"}))},active:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",fill:t?""+t:"#d13212",viewBox:"0 0 16 16"},w("g",{fill:"none","fill-rule":"evenodd"},w("circle",{cx:"8",cy:"8",r:"7",stroke:t?""+t:"#d13212","stroke-width":"2"}),w("g",{transform:"translate(7 4)"},w("mask",{id:"b",fill:"#fff"},w("path",{id:"a",d:"M2.00129021 6v2h-2V6h2zm0-6v5h-2V0h2z"})),w("g",{mask:"url(#b)"},w("path",{fill:t?""+t:"#d13212",d:"M-7-5H9v16H-7z"})))))},acknowledged:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",viewBox:"0 0 16 16",stroke:t?""+t:"#3184c2"},w("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12.286h5.143L8.857 14l1.714-1.714H14V2H2v10.286z"}),w("path",{fill:"none","stroke-linecap":"round","stroke-width":"2","stroke-miterlimit":"10",d:"M4.99 7H5v.01h-.01zM7.99 7H8v.01h-.01zM10.99 7H11v.01h-.01z"}))},disabled:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",viewBox:"0 0 16 16",stroke:t?""+t:"#687078"},w("g",{fill:"none","stroke-width":"2"},w("circle",{cx:"8",cy:"8",r:"7","stroke-linejoin":"round"}),w("path",{"stroke-linecap":"square","stroke-miterlimit":"10",d:"M11 8H5"})))},latched:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",viewBox:"0 0 16 16",fill:t?""+t:"#f89256"},w("path",{d:"M15.9 14.6l-7-14c-.3-.7-1.5-.7-1.8 0l-7 14c-.2.3-.1.7 0 1 .2.2.6.4.9.4h14c.3 0 .7-.2.9-.5.1-.3.1-.6 0-.9zM2.6 14L8 3.2 13.4 14H2.6z"}),w("path",{d:"M7 11v2h2v-2zM7 6h2v4H7z"}))},snoozed:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",viewBox:"0 0 16 16",stroke:t?""+t:"#879596"},w("g",{fill:"none","stroke-width":"2"},w("circle",{cx:"8",cy:"8",r:"7","stroke-linejoin":"round"}),w("path",{"stroke-linecap":"square","stroke-miterlimit":"10",d:"M8 5v4H5"})))},error:function(t,e){return e===void 0&&(e=Ee),w("svg",{width:e+"px",height:e+"px",viewBox:"0 0 16 16",fill:t?""+t:"#FF0000","data-test-tag":"error"},w("path",{class:"st4",d:"M13.7 2.3C12.1.8 10.1 0 8 0S3.9.8 2.3 2.3C.8 3.9 0 5.9 0 8s.8 4.1 2.3 5.7C3.9 15.2 5.9 16 8 16s4.1-.8 5.7-2.3C15.2 12.1 16 10.1 16 8s-.8-4.1-2.3-5.7zm-1.5 9.9C11.1 13.4 9.6 14 8 14s-3.1-.6-4.2-1.8S2 9.6 2 8s.6-3.1 1.8-4.2S6.4 2 8 2s3.1.6 4.2 1.8S14 6.4 14 8s-.6 3.1-1.8 4.2z"}),w("path",{class:"st4",d:"M10.1 4.5L8 6.6 5.9 4.5 4.5 5.9 6.6 8l-2.1 2.1 1.4 1.4L8 9.4l2.1 2.1 1.4-1.4L9.4 8l2.1-2.1z"}))}},Lf=function(t,e,n){if(Ao[t])return Ao[t](e,n);console.warn("Invalid status icon requested: "+t)},kf=".iot-app-kit-vis-chart-icon{position:relative;margin-right:3px;top:2px;padding:0.5rem 0;display:inline}",Nf=function(){function t(e){kt(this,e),this.name=wf.NORMAL}return t.prototype.render=function(){return w("div",{class:"iot-app-kit-vis-chart-icon"},Lf(this.name,this.color,this.size))},t}();Nf.style=kf;/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var qn=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",If=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(qn&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function zf(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function Rf(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},If))}}var Pf=qn&&window.Promise,Hf=Pf?zf:Rf;function mu(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Re(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function Qa(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Kn(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Re(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:Kn(Qa(t))}function yu(t){return t&&t.referenceNode?t.referenceNode:t}var Eo=qn&&!!(window.MSInputMethodContext&&document.documentMode),Do=qn&&/MSIE 10/.test(navigator.userAgent);function sn(t){return t===11?Eo:t===10?Do:Eo||Do}function Je(t){if(!t)return document.documentElement;for(var e=sn(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Re(n,"position")==="static"?Je(n):n}function Ff(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Je(t.firstElementChild)===t}function Ca(t){return t.parentNode!==null?Ca(t.parentNode):t}function Pr(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return Ff(o)?o:Je(o);var u=Ca(t);return u.host?Pr(u.host,e):Pr(t,Ca(e).host)}function Qe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||i;return a[n]}return t[n]}function Uf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Qe(e,"top"),i=Qe(e,"left"),a=n?-1:1;return t.top+=r*a,t.bottom+=r*a,t.left+=i*a,t.right+=i*a,t}function Oo(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function Lo(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],sn(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function wu(t){var e=t.body,n=t.documentElement,r=sn(10)&&getComputedStyle(n);return{height:Lo("Height",e,n,r),width:Lo("Width",e,n,r)}}var Bf=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Vf=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tn=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function xe(t){return Wt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Ma(t){var e={};try{if(sn(10)){e=t.getBoundingClientRect();var n=Qe(t,"top"),r=Qe(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a=t.nodeName==="HTML"?wu(t.ownerDocument):{},o=a.width||t.clientWidth||i.width,u=a.height||t.clientHeight||i.height,l=t.offsetWidth-o,f=t.offsetHeight-u;if(l||f){var c=Re(t);l-=Oo(c,"x"),f-=Oo(c,"y"),i.width-=l,i.height-=f}return xe(i)}function to(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=sn(10),i=e.nodeName==="HTML",a=Ma(t),o=Ma(e),u=Kn(t),l=Re(e),f=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=xe({top:a.top-o.top-f,left:a.left-o.left-c,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var p=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);d.top-=f-p,d.bottom-=f-p,d.left-=c-v,d.right-=c-v,d.marginTop=p,d.marginLeft=v}return(r&&!n?e.contains(u):e===u&&u.nodeName!=="BODY")&&(d=Uf(d,e)),d}function $f(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=to(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Qe(n),u=e?0:Qe(n,"left"),l={top:o-r.top+r.marginTop,left:u-r.left+r.marginLeft,width:i,height:a};return xe(l)}function xu(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Re(t,"position")==="fixed")return!0;var n=Qa(t);return n?xu(n):!1}function bu(t){if(!t||!t.parentElement||sn())return document.documentElement;for(var e=t.parentElement;e&&Re(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function eo(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},o=i?bu(t):Pr(t,yu(e));if(r==="viewport")a=$f(o,i);else{var u=void 0;r==="scrollParent"?(u=Kn(Qa(e)),u.nodeName==="BODY"&&(u=t.ownerDocument.documentElement)):r==="window"?u=t.ownerDocument.documentElement:u=r;var l=to(u,o,i);if(u.nodeName==="HTML"&&!xu(o)){var f=wu(t.ownerDocument),c=f.height,d=f.width;a.top+=l.top-l.marginTop,a.bottom=c+l.top,a.left+=l.left-l.marginLeft,a.right=d+l.left}else a=l}n=n||0;var p=typeof n=="number";return a.left+=p?n:n.left||0,a.top+=p?n:n.top||0,a.right-=p?n:n.right||0,a.bottom-=p?n:n.bottom||0,a}function Yf(t){var e=t.width,n=t.height;return e*n}function _u(t,e,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=eo(n,r,a,i),u={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(u).map(function(p){return Wt({key:p},u[p],{area:Yf(u[p])})}).sort(function(p,v){return v.area-p.area}),f=l.filter(function(p){var v=p.width,b=p.height;return v>=n.clientWidth&&b>=n.clientHeight}),c=f.length>0?f[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function Tu(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?bu(e):Pr(e,yu(n));return to(n,i,r)}function Su(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),a={width:t.offsetWidth+i,height:t.offsetHeight+r};return a}function Hr(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function Cu(t,e,n){n=n.split("-")[0];var r=Su(t),i={width:r.width,height:r.height},a=["right","left"].indexOf(n)!==-1,o=a?"top":"left",u=a?"left":"top",l=a?"height":"width",f=a?"width":"height";return i[o]=e[o]+e[l]/2-r[l]/2,n===u?i[u]=e[u]-r[f]:i[u]=e[Hr(u)],i}function Zn(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Wf(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=Zn(t,function(i){return i[e]===n});return t.indexOf(r)}function Mu(t,e,n){var r=n===void 0?t:t.slice(0,Wf(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=i.function||i.fn;i.enabled&&mu(a)&&(e.offsets.popper=xe(e.offsets.popper),e.offsets.reference=xe(e.offsets.reference),e=a(e,i))}),e}function Gf(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Tu(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=_u(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Cu(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Mu(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Au(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function no(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],a=i?""+i+n:t;if(typeof document.body.style[a]<"u")return a}return null}function jf(){return this.state.isDestroyed=!0,Au(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[no("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Eu(t){var e=t.ownerDocument;return e?e.defaultView:window}function Du(t,e,n,r){var i=t.nodeName==="BODY",a=i?t.ownerDocument.defaultView:t;a.addEventListener(e,n,{passive:!0}),i||Du(Kn(a.parentNode),e,n,r),r.push(a)}function Xf(t,e,n,r){n.updateBound=r,Eu(t).addEventListener("resize",n.updateBound,{passive:!0});var i=Kn(t);return Du(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function qf(){this.state.eventsEnabled||(this.state=Xf(this.reference,this.options,this.state,this.scheduleUpdate))}function Kf(t,e){return Eu(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function Zf(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Kf(this.reference,this.state))}function ro(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function Aa(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&ro(e[n])&&(r="px"),t.style[n]=e[n]+r})}function Jf(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function Qf(t){return Aa(t.instance.popper,t.styles),Jf(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&Aa(t.arrowElement,t.arrowStyles),t}function tc(t,e,n,r,i){var a=Tu(i,e,t,n.positionFixed),o=_u(n.placement,a,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),Aa(e,{position:n.positionFixed?"fixed":"absolute"}),n}function ec(t,e){var n=t.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,u=function(N){return N},l=a(i.width),f=a(r.width),c=["left","right"].indexOf(t.placement)!==-1,d=t.placement.indexOf("-")!==-1,p=l%2===f%2,v=l%2===1&&f%2===1,b=e?c||d||p?a:o:u,x=e?a:u;return{left:b(v&&!d&&e?r.left-1:r.left),top:x(r.top),bottom:x(r.bottom),right:b(r.right)}}var nc=qn&&/Firefox/i.test(navigator.userAgent);function rc(t,e){var n=e.x,r=e.y,i=t.offsets.popper,a=Zn(t.instance.modifiers,function(O){return O.name==="applyStyle"}).gpuAcceleration;a!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=a!==void 0?a:e.gpuAcceleration,u=Je(t.instance.popper),l=Ma(u),f={position:i.position},c=ec(t,window.devicePixelRatio<2||!nc),d=n==="bottom"?"top":"bottom",p=r==="right"?"left":"right",v=no("transform"),b=void 0,x=void 0;if(d==="bottom"?u.nodeName==="HTML"?x=-u.clientHeight+c.bottom:x=-l.height+c.bottom:x=c.top,p==="right"?u.nodeName==="HTML"?b=-u.clientWidth+c.right:b=-l.width+c.right:b=c.left,o&&v)f[v]="translate3d("+b+"px, "+x+"px, 0)",f[d]=0,f[p]=0,f.willChange="transform";else{var D=d==="bottom"?-1:1,N=p==="right"?-1:1;f[d]=x*D,f[p]=b*N,f.willChange=d+", "+p}var C={"x-placement":t.placement};return t.attributes=Wt({},C,t.attributes),t.styles=Wt({},f,t.styles),t.arrowStyles=Wt({},t.offsets.arrow,t.arrowStyles),t}function Ou(t,e,n){var r=Zn(t,function(u){var l=u.name;return l===e}),i=!!r&&t.some(function(u){return u.name===n&&u.enabled&&u.order<r.order});if(!i){var a="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function ic(t,e){var n;if(!Ou(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],a=t.offsets,o=a.popper,u=a.reference,l=["left","right"].indexOf(i)!==-1,f=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),p=l?"left":"top",v=l?"bottom":"right",b=Su(r)[f];u[v]-b<o[d]&&(t.offsets.popper[d]-=o[d]-(u[v]-b)),u[d]+b>o[v]&&(t.offsets.popper[d]+=u[d]+b-o[v]),t.offsets.popper=xe(t.offsets.popper);var x=u[d]+u[f]/2-b/2,D=Re(t.instance.popper),N=parseFloat(D["margin"+c]),C=parseFloat(D["border"+c+"Width"]),O=x-t.offsets.popper[d]-N-C;return O=Math.max(Math.min(o[f]-b,O),0),t.arrowElement=r,t.offsets.arrow=(n={},tn(n,d,Math.round(O)),tn(n,p,""),n),t}function ac(t){return t==="end"?"start":t==="start"?"end":t}var Lu=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],qi=Lu.slice(3);function ko(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=qi.indexOf(t),r=qi.slice(n+1).concat(qi.slice(0,n));return e?r.reverse():r}var Ki={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function oc(t,e){if(Au(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=eo(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=Hr(r),a=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case Ki.FLIP:o=[r,i];break;case Ki.CLOCKWISE:o=ko(r);break;case Ki.COUNTERCLOCKWISE:o=ko(r,!0);break;default:o=e.behavior}return o.forEach(function(u,l){if(r!==u||o.length===l+1)return t;r=t.placement.split("-")[0],i=Hr(r);var f=t.offsets.popper,c=t.offsets.reference,d=Math.floor,p=r==="left"&&d(f.right)>d(c.left)||r==="right"&&d(f.left)<d(c.right)||r==="top"&&d(f.bottom)>d(c.top)||r==="bottom"&&d(f.top)<d(c.bottom),v=d(f.left)<d(n.left),b=d(f.right)>d(n.right),x=d(f.top)<d(n.top),D=d(f.bottom)>d(n.bottom),N=r==="left"&&v||r==="right"&&b||r==="top"&&x||r==="bottom"&&D,C=["top","bottom"].indexOf(r)!==-1,O=!!e.flipVariations&&(C&&a==="start"&&v||C&&a==="end"&&b||!C&&a==="start"&&x||!C&&a==="end"&&D),A=!!e.flipVariationsByContent&&(C&&a==="start"&&b||C&&a==="end"&&v||!C&&a==="start"&&D||!C&&a==="end"&&x),k=O||A;(p||N||k)&&(t.flipped=!0,(p||N)&&(r=o[l+1]),k&&(a=ac(a)),t.placement=r+(a?"-"+a:""),t.offsets.popper=Wt({},t.offsets.popper,Cu(t.instance.popper,t.offsets.reference,t.placement)),t=Mu(t.instance.modifiers,t,"flip"))}),t}function sc(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],a=Math.floor,o=["top","bottom"].indexOf(i)!==-1,u=o?"right":"bottom",l=o?"left":"top",f=o?"width":"height";return n[u]<a(r[l])&&(t.offsets.popper[l]=a(r[l])-n[f]),n[l]>a(r[u])&&(t.offsets.popper[l]=a(r[u])),t}function uc(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return t;if(o.indexOf("%")===0){var u=void 0;switch(o){case"%p":u=n;break;case"%":case"%r":default:u=r}var l=xe(u);return l[e]/100*a}else if(o==="vh"||o==="vw"){var f=void 0;return o==="vh"?f=Math.max(document.documentElement.clientHeight,window.innerHeight||0):f=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f/100*a}else return a}function lc(t,e,n,r){var i=[0,0],a=["right","left"].indexOf(r)!==-1,o=t.split(/(\+|\-)/).map(function(c){return c.trim()}),u=o.indexOf(Zn(o,function(c){return c.search(/,|\s/)!==-1}));o[u]&&o[u].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,f=u!==-1?[o.slice(0,u).concat([o[u].split(l)[0]]),[o[u].split(l)[1]].concat(o.slice(u+1))]:[o];return f=f.map(function(c,d){var p=(d===1?!a:a)?"height":"width",v=!1;return c.reduce(function(b,x){return b[b.length-1]===""&&["+","-"].indexOf(x)!==-1?(b[b.length-1]=x,v=!0,b):v?(b[b.length-1]+=x,v=!1,b):b.concat(x)},[]).map(function(b){return uc(b,p,e,n)})}),f.forEach(function(c,d){c.forEach(function(p,v){ro(p)&&(i[d]+=p*(c[v-1]==="-"?-1:1))})}),i}function fc(t,e){var n=e.offset,r=t.placement,i=t.offsets,a=i.popper,o=i.reference,u=r.split("-")[0],l=void 0;return ro(+n)?l=[+n,0]:l=lc(n,a,o,u),u==="left"?(a.top+=l[0],a.left-=l[1]):u==="right"?(a.top+=l[0],a.left+=l[1]):u==="top"?(a.left+=l[0],a.top-=l[1]):u==="bottom"&&(a.left+=l[0],a.top+=l[1]),t.popper=a,t}function cc(t,e){var n=e.boundariesElement||Je(t.instance.popper);t.instance.reference===n&&(n=Je(n));var r=no("transform"),i=t.instance.popper.style,a=i.top,o=i.left,u=i[r];i.top="",i.left="",i[r]="";var l=eo(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=a,i.left=o,i[r]=u,e.boundaries=l;var f=e.priority,c=t.offsets.popper,d={primary:function(v){var b=c[v];return c[v]<l[v]&&!e.escapeWithReference&&(b=Math.max(c[v],l[v])),tn({},v,b)},secondary:function(v){var b=v==="right"?"left":"top",x=c[b];return c[v]>l[v]&&!e.escapeWithReference&&(x=Math.min(c[b],l[v]-(v==="right"?c.width:c.height))),tn({},b,x)}};return f.forEach(function(p){var v=["left","top"].indexOf(p)!==-1?"primary":"secondary";c=Wt({},c,d[v](p))}),t.offsets.popper=c,t}function hc(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,a=i.reference,o=i.popper,u=["bottom","top"].indexOf(n)!==-1,l=u?"left":"top",f=u?"width":"height",c={start:tn({},l,a[l]),end:tn({},l,a[l]+a[f]-o[f])};t.offsets.popper=Wt({},o,c[r])}return t}function dc(t){if(!Ou(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Zn(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function pc(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,a=r.reference,o=["left","right"].indexOf(n)!==-1,u=["top","left"].indexOf(n)===-1;return i[o?"left":"top"]=a[n]-(u?i[o?"width":"height"]:0),t.placement=Hr(e),t.offsets.popper=xe(i),t}var gc={shift:{order:100,enabled:!0,fn:hc},offset:{order:200,enabled:!0,fn:fc,offset:0},preventOverflow:{order:300,enabled:!0,fn:cc,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:sc},arrow:{order:500,enabled:!0,fn:ic,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:oc,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:pc},hide:{order:800,enabled:!0,fn:dc},computeStyle:{order:850,enabled:!0,fn:rc,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Qf,onLoad:tc,gpuAcceleration:void 0}},vc={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:gc},ti=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bf(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Hf(this.update.bind(this)),this.options=Wt({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Wt({},t.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=Wt({},t.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return Wt({name:o},r.options.modifiers[o])}).sort(function(o,u){return o.order-u.order}),this.modifiers.forEach(function(o){o.enabled&&mu(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Vf(t,[{key:"update",value:function(){return Gf.call(this)}},{key:"destroy",value:function(){return jf.call(this)}},{key:"enableEventListeners",value:function(){return qf.call(this)}},{key:"disableEventListeners",value:function(){return Zf.call(this)}}]),t}();ti.Utils=(typeof window<"u"?window:global).PopperUtils;ti.placements=Lu;ti.Defaults=vc;function Et(){return Et=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Et.apply(this,arguments)}var mc="5.2.1";function ku(t,e){t[_c()]=e}function yc(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function No(t,e){return{}.hasOwnProperty.call(t,e)}function wc(t){return ei(t)?[t]:xc(t)?Ea(t):Array.isArray(t)?t:Ea(document.querySelectorAll(t))}function Zi(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function vr(t,e){return t&&t.modifiers&&t.modifiers[e]}function io(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function ei(t){return io(t,"Element")}function xc(t){return io(t,"NodeList")}function bc(t){return io(t,"MouseEvent")}function _c(){return"innerHTML"}function Nu(t,e){return typeof t=="function"?t.apply(void 0,e):t}function mr(t,e,n,r){t.filter(function(i){return i.name===e})[0][n]=r}function Ar(){return document.createElement("div")}function yr(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Io(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function zo(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Ro(t,e,n){t&&t!==e&&t.apply(void 0,n)}function Ea(t){return[].slice.call(t)}function Tc(t,e){for(;t;){if(e(t))return t;t=t.parentElement}return null}function Yt(t,e){return t.indexOf(e)>-1}function Iu(t){return t.split(/\s+/).filter(Boolean)}function Sc(t,e){return t!==void 0?t:e}function kn(t){return[].concat(t)}function Cc(t){var e=kn(t),n=e[0];return n&&n.ownerDocument||document}function Po(t,e){t.indexOf(e)===-1&&t.push(e)}function Mc(t){return typeof t=="number"?t+"px":t}function Ac(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ho(t){return typeof t=="number"?t:parseFloat(t)}function Ec(t,e){var n=typeof e=="string"&&Yt(e,"rem"),r=t.documentElement,i=16;return r&&n?parseFloat(getComputedStyle(r).fontSize||String(i))*Ho(e):Ho(e)}function Fo(t,e,n){e===void 0&&(e=5);var r={top:0,right:0,bottom:0,left:0},i=Object.keys(r);return i.reduce(function(a,o){return a[o]=typeof e=="number"?e:e[o],t===o&&(a[o]=typeof e=="number"?e+n:e[t]+n),a},r)}var Dc={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ee=Et({allowHTML:!0,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},Dc),Oc=Object.keys(ee),Lc=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],kc=function(e){var n=Object.keys(e);n.forEach(function(r){ee[r]=e[r]})};function zu(t){var e=t.plugins||[],n=e.reduce(function(r,i){var a=i.name,o=i.defaultValue;return a&&(r[a]=t[a]!==void 0?t[a]:o),r},{});return Et({},t,{},n)}function Nc(t,e){var n=e?Object.keys(zu(Et({},ee,{plugins:e}))):Oc,r=n.reduce(function(i,a){var o=(t.getAttribute("data-tippy-"+a)||"").trim();if(!o)return i;if(a==="content")i[a]=o;else try{i[a]=JSON.parse(o)}catch{i[a]=o}return i},{});return r}function Uo(t,e){var n=Et({},e,{content:Nu(e.content,[t])},e.ignoreAttributes?{}:Nc(t,e.plugins));return n.interactive&&(n.aria=null),n}var Da={passive:!0},Ic="tippy-iOS",Ru="tippy-popper",Pu="tippy-tooltip",Hu="tippy-content",Fu="tippy-arrow",Uu="tippy-svg-arrow",zc="."+Ru,Rc="."+Pu,Pc="."+Hu,Hc="."+Fu,Fc="."+Uu,Xt={isTouch:!1},Bo=0;function Uc(){Xt.isTouch||(Xt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Bu))}function Bu(){var t=performance.now();t-Bo<20&&(Xt.isTouch=!1,document.removeEventListener("mousemove",Bu)),Bo=t}function Bc(){var t=document.activeElement;if(yc(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Vc(){document.addEventListener("touchstart",Uc,Et({},Da,{capture:!0})),window.addEventListener("blur",Bc)}var Vu=typeof window<"u"&&typeof document<"u",$c=Vu?navigator.userAgent:"",Yc=/MSIE |Trident\//.test($c),Wc=Vu&&/iPhone|iPad|iPod/.test(navigator.platform);function Vo(t){var e=t&&Wc&&Xt.isTouch;document.body.classList[e?"add":"remove"](Ic)}function $o(t){return t.split("-")[0]}function $u(t){t.setAttribute("data-inertia","")}function Gc(t){t.removeAttribute("data-inertia")}function Yu(t){t.setAttribute("data-interactive","")}function jc(t){t.removeAttribute("data-interactive")}function Wu(t,e){if(ei(e.content))ku(t,""),t.appendChild(e.content);else if(typeof e.content!="function"){var n=e.allowHTML?"innerHTML":"textContent";t[n]=e.content}}function Oa(t){return{tooltip:t.querySelector(Rc),content:t.querySelector(Pc),arrow:t.querySelector(Hc)||t.querySelector(Fc)}}function La(t){var e=Ar();return t===!0?e.className=Fu:(e.className=Uu,ei(t)?e.appendChild(t):ku(e,t)),e}function Xc(t,e){var n=Ar();n.className=Ru,n.style.position="absolute",n.style.top="0",n.style.left="0";var r=Ar();r.className=Pu,r.id="tippy-"+t,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1"),ka(r,"add",e.theme);var i=Ar();return i.className=Hu,i.setAttribute("data-state","hidden"),e.interactive&&Yu(r),e.arrow&&(r.setAttribute("data-arrow",""),r.appendChild(La(e.arrow))),e.inertia&&$u(r),Wu(i,e),r.appendChild(i),n.appendChild(r),Gu(n,e,e),n}function Gu(t,e,n){var r=Oa(t),i=r.tooltip,a=r.content,o=r.arrow;t.style.zIndex=""+n.zIndex,i.setAttribute("data-animation",n.animation),i.style.maxWidth=Mc(n.maxWidth),n.role?i.setAttribute("role",n.role):i.removeAttribute("role"),e.content!==n.content&&Wu(a,n),!e.arrow&&n.arrow?(i.appendChild(La(n.arrow)),i.setAttribute("data-arrow","")):e.arrow&&!n.arrow?(i.removeChild(o),i.removeAttribute("data-arrow")):e.arrow!==n.arrow&&(i.removeChild(o),i.appendChild(La(n.arrow))),!e.interactive&&n.interactive?Yu(i):e.interactive&&!n.interactive&&jc(i),!e.inertia&&n.inertia?$u(i):e.inertia&&!n.inertia&&Gc(i),e.theme!==n.theme&&(ka(i,"remove",e.theme),ka(i,"add",n.theme))}function Ji(t,e,n){["transitionend","webkitTransitionEnd"].forEach(function(r){t[e+"EventListener"](r,n)})}function ka(t,e,n){Iu(n).forEach(function(r){t.classList[e](r+"-theme")})}function qc(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var a=i.popperRect,o=i.tooltipRect,u=i.interactiveBorder,l={top:Math.min(a.top,o.top),right:Math.max(a.right,o.right),bottom:Math.max(a.bottom,o.bottom),left:Math.min(a.left,o.left)},f=l.top-r>u,c=r-l.bottom>u,d=l.left-n>u,p=n-l.right>u;return f||c||d||p})}var Kc=1,wr=[],xr=[];function Zc(t,e){var n=Uo(t,Et({},ee,{},zu(e)));if(!n.multiple&&t._tippy)return null;var r,i,a,o=!1,u=!1,l=!1,f=0,c,d,p,v=[],b=zo(q,n.interactiveDebounce),x,D=Cc(n.triggerTarget||t),N=Kc++,C=Xc(N,n),O=Oa(C),A=null,k=Ac(n.plugins),T=O.tooltip,B=O.content,K=[T,B],nt={currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:N,reference:t,popper:C,popperChildren:O,popperInstance:A,props:n,state:nt,plugins:k,clearDelayTimeouts:Fe,setProps:Ue,setContent:Vt,show:ge,hide:fn,enable:pe,disable:_e,destroy:ae};t._tippy=y,C._tippy=y;var L=k.map(function(S){return S.fn(y)}),m=t.hasAttribute("aria-expanded");return _t(),Y(),n.lazy||ut(),V("onCreate",[y]),n.showOnCreate&&Kt(),C.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(S){y.props.interactive&&Yt(y.props.trigger,"mouseenter")&&(b(S),D.addEventListener("mousemove",b))}),y;function M(){var S=y.props.touch;return Array.isArray(S)?S:[S,0]}function I(){return M()[0]==="hold"}function R(){return x||t}function P(S){return y.state.isMounted&&!y.state.isVisible||Xt.isTouch||c&&c.type==="focus"?0:Zi(y.props.delay,S?0:1,ee.delay)}function V(S,H,F){if(F===void 0&&(F=!0),L.forEach(function(Z){No(Z,S)&&Z[S].apply(Z,H)}),F){var Q;(Q=y.props)[S].apply(Q,H)}}function X(){var S=y.props.aria;if(S){var H="aria-"+S,F=T.id,Q=kn(y.props.triggerTarget||t);Q.forEach(function(Z){var Tt=Z.getAttribute(H);if(y.state.isVisible)Z.setAttribute(H,Tt?Tt+" "+F:F);else{var zt=Tt&&Tt.replace(F,"").trim();zt?Z.setAttribute(H,zt):Z.removeAttribute(H)}})}}function Y(){if(!m){var S=kn(y.props.triggerTarget||t);S.forEach(function(H){y.props.interactive?H.setAttribute("aria-expanded",y.state.isVisible&&H===R()?"true":"false"):H.removeAttribute("aria-expanded")})}}function W(){D.body.removeEventListener("mouseleave",Zt),D.removeEventListener("mousemove",b),wr=wr.filter(function(S){return S!==b})}function bt(S){y.props.interactive&&C.contains(S.target)||R().contains(S.target)&&(Xt.isTouch||y.state.isVisible&&Yt(y.props.trigger,"click"))||y.props.hideOnClick===!0&&(u=!1,y.clearDelayTimeouts(),y.hide(),l=!0,setTimeout(function(){l=!1}),y.state.isMounted||st())}function mt(){D.addEventListener("mousedown",bt,!0)}function st(){D.removeEventListener("mousedown",bt,!0)}function ct(S,H){Ht(S,function(){!y.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&H()})}function J(S,H){Ht(S,H)}function Ht(S,H){function F(Q){Q.target===T&&(Ji(T,"remove",F),H())}if(S===0)return H();Ji(T,"remove",p),Ji(T,"add",F),p=F}function Bt(S,H,F){F===void 0&&(F=!1);var Q=kn(y.props.triggerTarget||t);Q.forEach(function(Z){Z.addEventListener(S,H,F),v.push({node:Z,eventType:S,handler:H,options:F})})}function _t(){I()&&(Bt("touchstart",G,Da),Bt("touchend",E,Da)),Iu(y.props.trigger).forEach(function(S){if(S!=="manual")switch(Bt(S,G),S){case"mouseenter":Bt("mouseleave",E);break;case"focus":Bt(Yc?"focusout":"blur",lt);break;case"focusin":Bt("focusout",lt);break}})}function z(){v.forEach(function(S){var H=S.node,F=S.eventType,Q=S.handler,Z=S.options;H.removeEventListener(F,Q,Z)}),v=[]}function G(S){var H=!1;if(!(!y.state.isEnabled||tt(S)||l)){if(c=S,x=S.currentTarget,Y(),!y.state.isVisible&&bc(S)&&wr.forEach(function(Tt){return Tt(S)}),S.type==="click"&&(!Yt(y.props.trigger,"mouseenter")||u)&&y.props.hideOnClick!==!1&&y.state.isVisible)H=!0;else{var F=M(),Q=F[0],Z=F[1];Xt.isTouch&&Q==="hold"&&Z?r=setTimeout(function(){Kt(S)},Z):Kt(S)}S.type==="click"&&(u=!H),H&&Zt(S)}}function q(S){var H=Tc(S.target,function(Q){return Q===t||Q===C});if(!(S.type==="mousemove"&&H)){var F=Ea(C.querySelectorAll(zc)).concat(C).map(function(Q){var Z=Q._tippy,Tt=Z.popperChildren.tooltip,zt=Z.props.interactiveBorder;return{popperRect:Q.getBoundingClientRect(),tooltipRect:Tt.getBoundingClientRect(),interactiveBorder:zt}});qc(F,S)&&(W(),Zt(S))}}function E(S){if(!tt(S)&&!(Yt(y.props.trigger,"click")&&u)){if(y.props.interactive){D.body.addEventListener("mouseleave",Zt),D.addEventListener("mousemove",b),Po(wr,b),b(S);return}Zt(S)}}function lt(S){!Yt(y.props.trigger,"focusin")&&S.target!==R()||y.props.interactive&&S.relatedTarget&&C.contains(S.relatedTarget)||Zt(S)}function tt(S){var H="ontouchstart"in window,F=Yt(S.type,"touch"),Q=I();return H&&Xt.isTouch&&Q&&!F||Xt.isTouch&&!Q&&F}function ut(){var S=y.props.popperOptions,H=y.popperChildren.arrow,F=vr(S,"flip"),Q=vr(S,"preventOverflow"),Z;function Tt(yt){var St=y.state.currentPlacement;y.state.currentPlacement=yt.placement,y.props.flip&&!y.props.flipOnUpdate&&(yt.flipped&&(y.popperInstance.options.placement=yt.placement),mr(y.popperInstance.modifiers,"flip","enabled",!1)),T.setAttribute("data-placement",yt.placement),yt.attributes["x-out-of-boundaries"]!==!1?T.setAttribute("data-out-of-boundaries",""):T.removeAttribute("data-out-of-boundaries");var $t=$o(yt.placement),Gt=Yt(["top","bottom"],$t),Ot=Yt(["bottom","right"],$t);T.style.top="0",T.style.left="0",T.style[Gt?"top":"left"]=(Ot?1:-1)*Z+"px",St&&St!==yt.placement&&y.popperInstance.update()}var zt=Et({eventsEnabled:!1,placement:y.props.placement},S,{modifiers:Et({},S&&S.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(St){Z=Ec(D,y.props.distance);var $t=$o(St.placement),Gt=Fo($t,Q&&Q.padding,Z),Ot=Fo($t,F&&F.padding,Z),oe=y.popperInstance.modifiers;return mr(oe,"preventOverflow","padding",Gt),mr(oe,"flip","padding",Ot),St}},preventOverflow:Et({boundariesElement:y.props.boundary},Q),flip:Et({enabled:y.props.flip,behavior:y.props.flipBehavior},F),arrow:Et({element:H,enabled:!!H},vr(S,"arrow")),offset:Et({offset:y.props.offset},vr(S,"offset"))}),onCreate:function(St){Tt(St),Ro(S&&S.onCreate,zt.onCreate,[St]),ft()},onUpdate:function(St){Tt(St),Ro(S&&S.onUpdate,zt.onUpdate,[St]),ft()}});y.popperInstance=new ti(t,C,zt)}function ft(){f===0?(f++,y.popperInstance.update()):d&&f===1&&(f++,d())}function It(){f=0;var S=y.props.appendTo,H,F=R();y.props.interactive&&S===ee.appendTo||S==="parent"?H=F.parentNode:H=Nu(S,[F]),H.contains(C)||H.appendChild(C),mr(y.popperInstance.modifiers,"flip","enabled",y.props.flip),y.popperInstance.enableEventListeners(),y.popperInstance.update()}function Kt(S){y.clearDelayTimeouts(),y.popperInstance||ut(),S&&V("onTrigger",[y,S]),mt();var H=P(!0);H?r=setTimeout(function(){y.show()},H):y.show()}function Zt(S){if(y.clearDelayTimeouts(),V("onUntrigger",[y,S]),!y.state.isVisible){st();return}if(!(Yt(y.props.trigger,"mouseenter")&&Yt(y.props.trigger,"click")&&Yt(["mouseleave","mousemove"],S.type)&&u)){var H=P(!1);H?i=setTimeout(function(){y.state.isVisible&&y.hide()},H):a=requestAnimationFrame(function(){y.hide()})}}function pe(){y.state.isEnabled=!0}function _e(){y.hide(),y.state.isEnabled=!1}function Fe(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(a)}function Ue(S){if(!y.state.isDestroyed){V("onBeforeUpdate",[y,S]),z();var H=y.props,F=Uo(t,Et({},y.props,{},S,{ignoreAttributes:!0}));if(F.ignoreAttributes=Sc(S.ignoreAttributes,H.ignoreAttributes),y.props=F,_t(),H.interactiveDebounce!==F.interactiveDebounce&&(W(),b=zo(q,F.interactiveDebounce)),Gu(C,H,F),y.popperChildren=Oa(C),H.triggerTarget&&!F.triggerTarget?kn(H.triggerTarget).forEach(function(Z){Z.removeAttribute("aria-expanded")}):F.triggerTarget&&t.removeAttribute("aria-expanded"),Y(),y.popperInstance)if(Lc.some(function(Z){return No(S,Z)&&S[Z]!==H[Z]})){var Q=y.popperInstance.reference;y.popperInstance.destroy(),ut(),y.popperInstance.reference=Q,y.state.isVisible&&y.popperInstance.enableEventListeners()}else y.popperInstance.update();V("onAfterUpdate",[y,S])}}function Vt(S){y.setProps({content:S})}function ge(S){S===void 0&&(S=Zi(y.props.duration,0,ee.duration));var H=y.state.isVisible,F=y.state.isDestroyed,Q=!y.state.isEnabled,Z=Xt.isTouch&&!y.props.touch;H||F||Q||Z||R().hasAttribute("disabled")||(y.popperInstance||ut(),V("onShow",[y],!1),y.props.onShow(y)!==!1&&(mt(),C.style.visibility="visible",y.state.isVisible=!0,y.state.isMounted||yr(K.concat(C),0),d=function(){y.state.isVisible&&(yr([C],y.props.updateDuration),yr(K,S),Io(K,"visible"),X(),Y(),Po(xr,y),Vo(!0),y.state.isMounted=!0,V("onMount",[y]),J(S,function(){y.state.isShown=!0,V("onShown",[y])}))},It()))}function fn(S){S===void 0&&(S=Zi(y.props.duration,1,ee.duration));var H=!y.state.isVisible&&!o,F=y.state.isDestroyed,Q=!y.state.isEnabled&&!o;H||F||Q||(V("onHide",[y],!1),!(y.props.onHide(y)===!1&&!o)&&(st(),C.style.visibility="hidden",y.state.isVisible=!1,y.state.isShown=!1,yr(K,S),Io(K,"hidden"),X(),Y(),ct(S,function(){y.popperInstance.disableEventListeners(),y.popperInstance.options.placement=y.props.placement,C.parentNode.removeChild(C),xr=xr.filter(function(Z){return Z!==y}),xr.length===0&&Vo(!1),y.state.isMounted=!1,V("onHidden",[y])})))}function ae(){y.state.isDestroyed||(o=!0,y.clearDelayTimeouts(),y.hide(0),z(),delete t._tippy,y.popperInstance&&y.popperInstance.destroy(),o=!1,y.state.isDestroyed=!0,V("onDestroy",[y]))}}function Jn(t,e,n){e===void 0&&(e={}),n===void 0&&(n=[]),n=ee.plugins.concat(e.plugins||n),Vc();var r=Et({},e,{plugins:n}),i=wc(t),a=i.reduce(function(o,u){var l=u&&Zc(u,r);return l&&o.push(l),o},[]);return ei(t)?a[0]:a}Jn.version=mc;Jn.defaultProps=ee;Jn.setDefaultProps=kc;Jn.currentInput=Xt;var Jc={placement:"right",boundary:"window",theme:"title",offset:"0, 10",duration:0},Qc="iot-app-kit-vis-data-stream-name{color:var(--polaris-gray-900)}iot-app-kit-vis-data-stream-name .awsui{color:inherit}",th=function(){function t(e){var n=this;kt(this,e),this.displayTooltip=!0,this.renderTooltip=function(){if(n.displayTooltip){var r=n.el.querySelector("iot-app-kit-vis-expandable-input"),i=n.el.querySelector(".data-stream-name-tooltip");i!=null&&r!=null&&(i.style.display="block",n.tooltip=Jn(r,Object.assign(Object.assign({},Jc),{content:i})))}}}return t.prototype.disconnectedCallback=function(){this.tooltip&&this.tooltip.destroy()},t.prototype.render=function(){var e=this;return w("div",{class:"awsui"},w("iot-app-kit-vis-expandable-input",{isDisabled:!this.isEditing,onValueChange:function(n){e.onNameChange(n)},onMouseOver:this.renderTooltip,onFocus:this.renderTooltip,value:this.label}),w("div",{class:"data-stream-name-tooltip awsui-util-container awsui",style:{display:"none"}},w("div",{class:"awsui-util-spacing-v-s"},w("div",null,w("div",{class:"awsui-util-label"},this.detailedLabel||this.label),this.pointType&&this.pointType==="trend"&&w("small",null,"This trend line is computed from only visible data.")),this.date&&w("div",null,w("div",{class:"awsui-util-label"},"Latest value at"),w("div",null,this.date.toLocaleString("en-US",{hour12:!0,minute:"numeric",hour:"numeric",year:"numeric",month:"numeric",day:"numeric"}))))))},Object.defineProperty(t.prototype,"el",{get:function(){return on(this)},enumerable:!1,configurable:!0}),t}();th.style=Qc;var eh="iot-app-kit-vis-error-badge div{display:-ms-flexbox;display:flex;padding-left:1.4286em;line-height:1.4286em;color:var(--error-badge-font-color, #6a7070)}iot-app-kit-vis-error-badge .warning-symbol{font-size:2rem;padding-right:var(--margin-small);font-weight:bold;color:var(--error-badge-warning-color, #fa3232)}",nh=function(){function t(e){kt(this,e)}return t.prototype.render=function(){return w("div",{"data-test-tag":"error"},w("span",{class:"warning-symbol"},"⚠"),w("slot",null))},t}();nh.style=eh;var rh="iot-app-kit-vis-expandable-input .iot-app-kit-vis-expandable-input{display:inline-block;background:none;color:inherit;word-break:break-word;margin-top:3px;min-width:20px;text-overflow:ellipsis;border:none;border-bottom:var(--border-width) solid var(--polaris-gray-400)}iot-app-kit-vis-expandable-input .iot-app-kit-vis-expandable-input.disabled{outline:none;border-bottom-color:rgba(0, 0, 0, 0)}",ih=function(){function t(e){var n=this;kt(this,e),this.onChange=function(r){var i=r.target;n.onValueChange(i.innerText)}}return t.prototype.render=function(){var e=this,n=e.value,r=e.isDisabled,i=r===void 0?!1:r;return w("span",{"data-test-tag":"expandable-input",contentEditable:!i,class:"iot-app-kit-vis-expandable-input aws-util-font-size-1 "+(i?"disabled":""),onBlur:this.onChange},n)},t}();ih.style=rh;function ju(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ao(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qn(){}var Fn=.7,Fr=1/Fn,qe="\\s*([+-]?\\d+)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ie="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ah=/^#([0-9a-f]{3,8})$/,oh=new RegExp("^rgb\\("+[qe,qe,qe]+"\\)$"),sh=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),uh=new RegExp("^rgba\\("+[qe,qe,qe,Un]+"\\)$"),lh=new RegExp("^rgba\\("+[ie,ie,ie,Un]+"\\)$"),fh=new RegExp("^hsl\\("+[Un,ie,ie]+"\\)$"),ch=new RegExp("^hsla\\("+[Un,ie,ie,Un]+"\\)$"),Yo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ao(Qn,ke,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Wo,formatHex:Wo,formatHsl:hh,formatRgb:Go,toString:Go});function Wo(){return this.rgb().formatHex()}function hh(){return qu(this).formatHsl()}function Go(){return this.rgb().formatRgb()}function ke(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ah.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jo(e):n===3?new Ft(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?br(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?br(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oh.exec(t))?new Ft(e[1],e[2],e[3],1):(e=sh.exec(t))?new Ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uh.exec(t))?br(e[1],e[2],e[3],e[4]):(e=lh.exec(t))?br(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fh.exec(t))?Ko(e[1],e[2]/100,e[3]/100,1):(e=ch.exec(t))?Ko(e[1],e[2]/100,e[3]/100,e[4]):Yo.hasOwnProperty(t)?jo(Yo[t]):t==="transparent"?new Ft(NaN,NaN,NaN,0):null}function jo(t){return new Ft(t>>16&255,t>>8&255,t&255,1)}function br(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ft(t,e,n,r)}function dh(t){return t instanceof Qn||(t=ke(t)),t?(t=t.rgb(),new Ft(t.r,t.g,t.b,t.opacity)):new Ft}function Bn(t,e,n,r){return arguments.length===1?dh(t):new Ft(t,e,n,r??1)}function Ft(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ao(Ft,Bn,Xu(Qn,{brighter:function(t){return t=t==null?Fr:Math.pow(Fr,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Fn:Math.pow(Fn,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xo,formatHex:Xo,formatRgb:qo,toString:qo}));function Xo(){return"#"+Qi(this.r)+Qi(this.g)+Qi(this.b)}function qo(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Qi(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Ko(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ne(t,e,n,r)}function qu(t){if(t instanceof ne)return new ne(t.h,t.s,t.l,t.opacity);if(t instanceof Qn||(t=ke(t)),!t)return new ne;if(t instanceof ne)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=l>0&&l<1?0:o,new ne(o,u,l,t.opacity)}function ph(t,e,n,r){return arguments.length===1?qu(t):new ne(t,e,n,r??1)}function ne(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ao(ne,ph,Xu(Qn,{brighter:function(t){return t=t==null?Fr:Math.pow(Fr,t),new ne(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Fn:Math.pow(Fn,t),new ne(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ft(ta(t>=240?t-240:t+120,i,r),ta(t,i,r),ta(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ta(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var oo=function(t){return function(){return t}};function gh(t,e){return function(n){return t+n*e}}function vh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mh(t){return(t=+t)==1?Ku:function(e,n){return n-e?vh(e,n,t):oo(isNaN(e)?n:e)}}function Ku(t,e){var n=e-t;return n?gh(t,n):oo(isNaN(t)?e:t)}var Zo=function t(e){var n=mh(e);function r(i,a){var o=n((i=Bn(i)).r,(a=Bn(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),f=Ku(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function yh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xh(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=so(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function bh(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ur(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _h(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=so(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Na=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ea=new RegExp(Na.source,"g");function Th(t){return function(){return t}}function Sh(t){return function(e){return t(e)+""}}function Ch(t,e){var n=Na.lastIndex=ea.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Na.exec(t))&&(i=ea.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:Ur(r,i)})),n=ea.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?Sh(l[0].x):Th(e):(e=l.length,function(f){for(var c=0,d;c<e;++c)u[(d=l[c]).i]=d.x(f);return u.join("")})}function so(t,e){var n=typeof e,r;return e==null||n==="boolean"?oo(e):(n==="number"?Ur:n==="string"?(r=ke(e))?(e=r,Zo):Ch:e instanceof ke?Zo:e instanceof Date?bh:wh(e)?yh:Array.isArray(e)?xh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_h:Ur)(t,e)}function Mh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ah(t){return function(){return t}}function Eh(t){return+t}var Jo=[0,1];function Xe(t){return t}function Ia(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ah(isNaN(e)?NaN:.5)}function Dh(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Oh(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ia(i,r),a=n(o,a)):(r=Ia(r,i),a=n(a,o)),function(u){return a(r(u))}}function Lh(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ia(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var l=Df(t,u,1,r)-1;return a[l](i[l](u))}}function Zu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kh(){var t=Jo,e=Jo,n=so,r,i,a,o=Xe,u,l,f;function c(){var p=Math.min(t.length,e.length);return o!==Xe&&(o=Dh(t[0],t[p-1])),u=p>2?Lh:Oh,l=f=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=u(t.map(r),e,n)))(r(o(p)))}return d.invert=function(p){return o(i((f||(f=u(e,t.map(r),Ur)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,Eh),c()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=Mh,c()},d.clamp=function(p){return arguments.length?(o=p?!0:Xe,c()):o!==Xe},d.interpolate=function(p){return arguments.length?(n=p,c()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,v){return r=p,i=v,c()}}function Ju(){return kh()(Xe,Xe)}function Nh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Br(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function en(t){return t=Br(Math.abs(t)),t?t[1]:NaN}function Ih(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function zh(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vr(t){if(!(e=Rh.exec(t)))throw new Error("invalid format: "+t);var e;return new uo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vr.prototype=uo.prototype;function uo(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ph(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Qu;function Hh(t,e){var n=Br(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Qu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Br(t,Math.max(0,e+a-1))[0]}function Qo(t,e){var n=Br(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var ts={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Nh,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Qo(t*100,e)},r:Qo,s:Hh,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function es(t){return t}var ns=Array.prototype.map,rs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fh(t){var e=t.grouping===void 0||t.thousands===void 0?es:Ih(ns.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?es:zh(ns.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function f(d){d=Vr(d);var p=d.fill,v=d.align,b=d.sign,x=d.symbol,D=d.zero,N=d.width,C=d.comma,O=d.precision,A=d.trim,k=d.type;k==="n"?(C=!0,k="g"):ts[k]||(O===void 0&&(O=12),A=!0,k="g"),(D||p==="0"&&v==="=")&&(D=!0,p="0",v="=");var T=x==="$"?n:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",B=x==="$"?r:/[%p]/.test(k)?o:"",K=ts[k],nt=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function y(L){var m=T,M=B,I,R,P;if(k==="c")M=K(L)+M,L="";else{L=+L;var V=L<0||1/L<0;if(L=isNaN(L)?l:K(Math.abs(L),O),A&&(L=Ph(L)),V&&+L==0&&b!=="+"&&(V=!1),m=(V?b==="("?b:u:b==="-"||b==="("?"":b)+m,M=(k==="s"?rs[8+Qu/3]:"")+M+(V&&b==="("?")":""),nt){for(I=-1,R=L.length;++I<R;)if(P=L.charCodeAt(I),48>P||P>57){M=(P===46?i+L.slice(I+1):L.slice(I))+M,L=L.slice(0,I);break}}}C&&!D&&(L=e(L,1/0));var X=m.length+L.length+M.length,Y=X<N?new Array(N-X+1).join(p):"";switch(C&&D&&(L=e(Y+L,Y.length?N-M.length:1/0),Y=""),v){case"<":L=m+L+M+Y;break;case"=":L=m+Y+L+M;break;case"^":L=Y.slice(0,X=Y.length>>1)+m+L+M+Y.slice(X);break;default:L=Y+m+L+M;break}return a(L)}return y.toString=function(){return d+""},y}function c(d,p){var v=f((d=Vr(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(en(p)/3)))*3,x=Math.pow(10,-b),D=rs[8+b/3];return function(N){return v(x*N)+D}}return{format:f,formatPrefix:c}}var _r,tl,el;Uh({thousands:",",grouping:[3],currency:["$",""]});function Uh(t){return _r=Fh(t),tl=_r.format,el=_r.formatPrefix,_r}function Bh(t){return Math.max(0,-en(Math.abs(t)))}function Vh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(en(e)/3)))*3-en(Math.abs(t)))}function $h(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,en(e)-en(t))+1}function Yh(t,e,n,r){var i=Sa(t,e,n),a;switch(r=Vr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Vh(i,o))&&(r.precision=a),el(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=$h(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Bh(i))&&(r.precision=a-(r.type==="%")*2);break}}return tl(r)}function Wh(t){var e=t.domain;return t.ticks=function(n){var r=e();return Of(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Yh(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],l,f,c=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);c-- >0;){if(f=vu(o,u,n),f===l)return r[i]=o,r[a]=u,e(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;l=f}return t},t}function lo(){var t=Ju();return t.copy=function(){return Zu(t,lo())},ju.apply(t,arguments),Wh(t)}function Gh(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}var na=new Date,ra=new Date;function Nt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=function(a,o){return e(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,u){var l=[],f;if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return l;do l.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return l},i.filter=function(a){return Nt(function(o){if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););})},n&&(i.count=function(a,o){return na.setTime(+a),ra.setTime(+o),t(na),t(ra),Math.floor(n(na,ra))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var za=Nt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});za.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):za};var ce=1e3,re=ce*60,Oe=re*60,Ne=Oe*24,fo=Ne*7,is=Ne*30,ia=Ne*365,Nn=Nt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*ce)},function(t,e){return(e-t)/ce},function(t){return t.getUTCSeconds()}),nl=Nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ce)},function(t,e){t.setTime(+t+e*re)},function(t,e){return(e-t)/re},function(t){return t.getMinutes()}),rl=Nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ce-t.getMinutes()*re)},function(t,e){t.setTime(+t+e*Oe)},function(t,e){return(e-t)/Oe},function(t){return t.getHours()}),ni=Nt(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*re)/Ne},function(t){return t.getDate()-1});function Pe(t){return Nt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*re)/fo})}var co=Pe(0),Ra=Pe(1);Pe(2);Pe(3);var Vn=Pe(4);Pe(5);Pe(6);var il=Nt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),be=Nt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});be.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var al=Nt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Ne},function(t){return t.getUTCDate()-1});function He(t){return Nt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/fo})}var jh=He(0),Pa=He(1);He(2);He(3);var $n=He(4);He(5);He(6);var nn=Nt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});nn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};function Xh(t,e,n,r,i,a){var o=[[Nn,1,ce],[Nn,5,5*ce],[Nn,15,15*ce],[Nn,30,30*ce],[a,1,re],[a,5,5*re],[a,15,15*re],[a,30,30*re],[i,1,Oe],[i,3,3*Oe],[i,6,6*Oe],[i,12,12*Oe],[r,1,Ne],[r,2,2*Ne],[n,1,fo],[e,1,is],[e,3,3*is],[t,1,ia]];function u(f,c,d){var p,v=c<f;v&&(p=[c,f],f=p[0],c=p[1]);var b=d&&typeof d.range=="function"?d:l(f,c,d),x=b?b.range(f,+c+1):[];return v?x.reverse():x}function l(f,c,d){var p=Math.abs(c-f)/d,v=Za(function(N){var C=N[2];return C}).right(o,p);if(v===o.length)return t.every(Sa(f/ia,c/ia,d));if(v===0)return za.every(Math.max(Sa(f,c,d),1));var b=o[p/o[v-1][2]<o[v][2]/p?v-1:v],x=b[0],D=b[1];return x.every(D)}return[u,l]}var ol=Xh(be,il,co,ni,rl,nl),qh=ol[0],Kh=ol[1];function aa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oa(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Zh(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,f=Cn(i),c=Mn(i),d=Cn(a),p=Mn(a),v=Cn(o),b=Mn(o),x=Cn(u),D=Mn(u),N=Cn(l),C=Mn(l),O={a:V,A:X,b:Y,B:W,c:null,d:fs,e:fs,f:xd,g:Od,G:kd,H:md,I:yd,j:wd,L:sl,m:bd,M:_d,p:bt,q:mt,Q:ds,s:ps,S:Td,u:Sd,U:Cd,V:Md,w:Ad,W:Ed,x:null,X:null,y:Dd,Y:Ld,Z:Nd,"%":hs},A={a:st,A:ct,b:J,B:Ht,c:null,d:cs,e:cs,f:Pd,g:jd,G:qd,H:Id,I:zd,j:Rd,L:ll,m:Hd,M:Fd,p:Bt,q:_t,Q:ds,s:ps,S:Ud,u:Bd,U:Vd,V:$d,w:Yd,W:Wd,x:null,X:null,y:Gd,Y:Xd,Z:Kd,"%":hs},k={a:y,A:L,b:m,B:M,c:I,d:us,e:us,f:dd,g:ss,G:os,H:ls,I:ls,j:ld,L:hd,m:ud,M:fd,p:nt,q:sd,Q:gd,s:vd,S:cd,u:nd,U:rd,V:id,w:ed,W:ad,x:R,X:P,y:ss,Y:os,Z:od,"%":pd};O.x=T(n,O),O.X=T(r,O),O.c=T(e,O),A.x=T(n,A),A.X=T(r,A),A.c=T(e,A);function T(z,G){return function(q){var E=[],lt=-1,tt=0,ut=z.length,ft,It,Kt;for(q instanceof Date||(q=new Date(+q));++lt<ut;)z.charCodeAt(lt)===37&&(E.push(z.slice(tt,lt)),(It=as[ft=z.charAt(++lt)])!=null?ft=z.charAt(++lt):It=ft==="e"?" ":"0",(Kt=G[ft])&&(ft=Kt(q,It)),E.push(ft),tt=lt+1);return E.push(z.slice(tt,lt)),E.join("")}}function B(z,G){return function(q){var E=Sn(1900,void 0,1),lt=K(E,z,q+="",0),tt,ut;if(lt!=q.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(G&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(tt=oa(Sn(E.y,0,1)),ut=tt.getUTCDay(),tt=ut>4||ut===0?Pa.ceil(tt):Pa(tt),tt=al.offset(tt,(E.V-1)*7),E.y=tt.getUTCFullYear(),E.m=tt.getUTCMonth(),E.d=tt.getUTCDate()+(E.w+6)%7):(tt=aa(Sn(E.y,0,1)),ut=tt.getDay(),tt=ut>4||ut===0?Ra.ceil(tt):Ra(tt),tt=ni.offset(tt,(E.V-1)*7),E.y=tt.getFullYear(),E.m=tt.getMonth(),E.d=tt.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),ut="Z"in E?oa(Sn(E.y,0,1)).getUTCDay():aa(Sn(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(ut+5)%7:E.w+E.U*7-(ut+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,oa(E)):aa(E)}}function K(z,G,q,E){for(var lt=0,tt=G.length,ut=q.length,ft,It;lt<tt;){if(E>=ut)return-1;if(ft=G.charCodeAt(lt++),ft===37){if(ft=G.charAt(lt++),It=k[ft in as?G.charAt(lt++):ft],!It||(E=It(z,q,E))<0)return-1}else if(ft!=q.charCodeAt(E++))return-1}return E}function nt(z,G,q){var E=f.exec(G.slice(q));return E?(z.p=c.get(E[0].toLowerCase()),q+E[0].length):-1}function y(z,G,q){var E=v.exec(G.slice(q));return E?(z.w=b.get(E[0].toLowerCase()),q+E[0].length):-1}function L(z,G,q){var E=d.exec(G.slice(q));return E?(z.w=p.get(E[0].toLowerCase()),q+E[0].length):-1}function m(z,G,q){var E=N.exec(G.slice(q));return E?(z.m=C.get(E[0].toLowerCase()),q+E[0].length):-1}function M(z,G,q){var E=x.exec(G.slice(q));return E?(z.m=D.get(E[0].toLowerCase()),q+E[0].length):-1}function I(z,G,q){return K(z,e,G,q)}function R(z,G,q){return K(z,n,G,q)}function P(z,G,q){return K(z,r,G,q)}function V(z){return o[z.getDay()]}function X(z){return a[z.getDay()]}function Y(z){return l[z.getMonth()]}function W(z){return u[z.getMonth()]}function bt(z){return i[+(z.getHours()>=12)]}function mt(z){return 1+~~(z.getMonth()/3)}function st(z){return o[z.getUTCDay()]}function ct(z){return a[z.getUTCDay()]}function J(z){return l[z.getUTCMonth()]}function Ht(z){return u[z.getUTCMonth()]}function Bt(z){return i[+(z.getUTCHours()>=12)]}function _t(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var G=T(z+="",O);return G.toString=function(){return z},G},parse:function(z){var G=B(z+="",!1);return G.toString=function(){return z},G},utcFormat:function(z){var G=T(z+="",A);return G.toString=function(){return z},G},utcParse:function(z){var G=B(z+="",!0);return G.toString=function(){return z},G}}}var as={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,Jh=/^%/,Qh=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function td(t){return t.replace(Qh,"\\$&")}function Cn(t){return new RegExp("^(?:"+t.map(td).join("|")+")","i")}function Mn(t){return new Map(t.map(function(e,n){return[e.toLowerCase(),n]}))}function ed(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nd(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rd(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function id(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ad(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function os(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ss(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function od(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sd(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ud(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function us(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ld(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ls(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fd(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cd(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hd(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dd(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pd(t,e,n){var r=Jh.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gd(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vd(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fs(t,e){return it(t.getDate(),e,2)}function md(t,e){return it(t.getHours(),e,2)}function yd(t,e){return it(t.getHours()%12||12,e,2)}function wd(t,e){return it(1+ni.count(be(t),t),e,3)}function sl(t,e){return it(t.getMilliseconds(),e,3)}function xd(t,e){return sl(t,e)+"000"}function bd(t,e){return it(t.getMonth()+1,e,2)}function _d(t,e){return it(t.getMinutes(),e,2)}function Td(t,e){return it(t.getSeconds(),e,2)}function Sd(t){var e=t.getDay();return e===0?7:e}function Cd(t,e){return it(co.count(be(t)-1,t),e,2)}function ul(t){var e=t.getDay();return e>=4||e===0?Vn(t):Vn.ceil(t)}function Md(t,e){return t=ul(t),it(Vn.count(be(t),t)+(be(t).getDay()===4),e,2)}function Ad(t){return t.getDay()}function Ed(t,e){return it(Ra.count(be(t)-1,t),e,2)}function Dd(t,e){return it(t.getFullYear()%100,e,2)}function Od(t,e){return t=ul(t),it(t.getFullYear()%100,e,2)}function Ld(t,e){return it(t.getFullYear()%1e4,e,4)}function kd(t,e){var n=t.getDay();return t=n>=4||n===0?Vn(t):Vn.ceil(t),it(t.getFullYear()%1e4,e,4)}function Nd(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function cs(t,e){return it(t.getUTCDate(),e,2)}function Id(t,e){return it(t.getUTCHours(),e,2)}function zd(t,e){return it(t.getUTCHours()%12||12,e,2)}function Rd(t,e){return it(1+al.count(nn(t),t),e,3)}function ll(t,e){return it(t.getUTCMilliseconds(),e,3)}function Pd(t,e){return ll(t,e)+"000"}function Hd(t,e){return it(t.getUTCMonth()+1,e,2)}function Fd(t,e){return it(t.getUTCMinutes(),e,2)}function Ud(t,e){return it(t.getUTCSeconds(),e,2)}function Bd(t){var e=t.getUTCDay();return e===0?7:e}function Vd(t,e){return it(jh.count(nn(t)-1,t),e,2)}function fl(t){var e=t.getUTCDay();return e>=4||e===0?$n(t):$n.ceil(t)}function $d(t,e){return t=fl(t),it($n.count(nn(t),t)+(nn(t).getUTCDay()===4),e,2)}function Yd(t){return t.getUTCDay()}function Wd(t,e){return it(Pa.count(nn(t)-1,t),e,2)}function Gd(t,e){return it(t.getUTCFullYear()%100,e,2)}function jd(t,e){return t=fl(t),it(t.getUTCFullYear()%100,e,2)}function Xd(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function qd(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$n(t):$n.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function Kd(){return"+0000"}function hs(){return"%"}function ds(t){return+t}function ps(t){return Math.floor(+t/1e3)}var sa,cl;Zd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zd(t){return sa=Zh(t),cl=sa.format,sa}function Jd(t){return new Date(t)}function Qd(t){return t instanceof Date?+t:+new Date(+t)}function hl(t,e,n,r,i,a,o,u,l,f){var c=Ju(),d=c.invert,p=c.domain,v=f(".%L"),b=f(":%S"),x=f("%I:%M"),D=f("%I %p"),N=f("%a %d"),C=f("%b %d"),O=f("%B"),A=f("%Y");function k(T){return(l(T)<T?v:u(T)<T?b:o(T)<T?x:a(T)<T?D:r(T)<T?i(T)<T?N:C:n(T)<T?O:A)(T)}return c.invert=function(T){return new Date(d(T))},c.domain=function(T){return arguments.length?p(Array.from(T,Qd)):p().map(Jd)},c.ticks=function(T){var B=p();return t(B[0],B[B.length-1],T??10)},c.tickFormat=function(T,B){return B==null?k:f(B)},c.nice=function(T){var B=p();return(!T||typeof T.range!="function")&&(T=e(B[0],B[B.length-1],T??10)),T?p(Gh(B,T)):c},c.copy=function(){return Zu(c,hl(t,e,n,r,i,a,o,u,l,f))},c}function Er(){return ju.apply(hl(qh,Kh,be,il,co,ni,rl,nl,Nn,cl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Ha="http://www.w3.org/1999/xhtml",gs={svg:"http://www.w3.org/2000/svg",xhtml:Ha,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ri(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gs.hasOwnProperty(e)?{space:gs[e],local:t}:t}function tp(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ha&&e.documentElement.namespaceURI===Ha?e.createElement(t):e.createElementNS(n,t)}}function ep(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dl(t){var e=ri(t);return(e.local?ep:tp)(e)}function np(){}function ho(t){return t==null?np:function(){return this.querySelector(t)}}function rp(t){typeof t!="function"&&(t=ho(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,f,c=0;c<o;++c)(l=a[c])&&(f=t.call(l,l.__data__,c,a))&&("__data__"in l&&(f.__data__=l.__data__),u[c]=f);return new Ut(r,this._parents)}function ip(){return[]}function pl(t){return t==null?ip:function(){return this.querySelectorAll(t)}}function ap(t){typeof t!="function"&&(t=pl(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,f=0;f<u;++f)(l=o[f])&&(r.push(t.call(l,l.__data__,f,o)),i.push(l));return new Ut(r,i)}function gl(t){return function(){return this.matches(t)}}function op(t){typeof t!="function"&&(t=gl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,f=0;f<o;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&u.push(l);return new Ut(r,this._parents)}function vl(t){return new Array(t.length)}function sp(){return new Ut(this._enter||this._groups.map(vl),this._parents)}function $r(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$r.prototype={constructor:$r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function up(t){return function(){return t}}var vs="$";function lp(t,e,n,r,i,a){for(var o=0,u,l=e.length,f=a.length;o<f;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new $r(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function fp(t,e,n,r,i,a,o){var u,l,f={},c=e.length,d=a.length,p=new Array(c),v;for(u=0;u<c;++u)(l=e[u])&&(p[u]=v=vs+o.call(l,l.__data__,u,e),v in f?i[u]=l:f[v]=l);for(u=0;u<d;++u)v=vs+o.call(t,a[u],u,a),(l=f[v])?(r[u]=l,l.__data__=a[u],f[v]=null):n[u]=new $r(t,a[u]);for(u=0;u<c;++u)(l=e[u])&&f[p[u]]===l&&(i[u]=l)}function cp(t,e){if(!t)return v=new Array(this.size()),f=-1,this.each(function(T){v[++f]=T}),v;var n=e?fp:lp,r=this._parents,i=this._groups;typeof t!="function"&&(t=up(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),f=0;f<a;++f){var c=r[f],d=i[f],p=d.length,v=t.call(c,c&&c.__data__,f,r),b=v.length,x=u[f]=new Array(b),D=o[f]=new Array(b),N=l[f]=new Array(p);n(c,d,x,D,N,v,e);for(var C=0,O=0,A,k;C<b;++C)if(A=x[C]){for(C>=O&&(O=C+1);!(k=D[O])&&++O<b;);A._next=k||null}}return o=new Ut(o,r),o._enter=u,o._exit=l,o}function hp(){return new Ut(this._exit||this._groups.map(vl),this._parents)}function dp(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function pp(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],f=n[u],c=l.length,d=o[u]=new Array(c),p,v=0;v<c;++v)(p=l[v]||f[v])&&(d[v]=p);for(;u<r;++u)o[u]=e[u];return new Ut(o,this._parents)}function gp(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function vp(t){t||(t=mp);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,l=i[a]=new Array(u),f,c=0;c<u;++c)(f=o[c])&&(l[c]=f);l.sort(e)}return new Ut(i,this._parents).order()}function mp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function wp(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function xp(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function bp(){var t=0;return this.each(function(){++t}),t}function _p(){return!this.node()}function Tp(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function Sp(t){return function(){this.removeAttribute(t)}}function Cp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mp(t,e){return function(){this.setAttribute(t,e)}}function Ap(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ep(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Dp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Op(t,e){var n=ri(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Cp:Sp:typeof e=="function"?n.local?Dp:Ep:n.local?Ap:Mp)(n,e))}function ml(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Lp(t){return function(){this.style.removeProperty(t)}}function kp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Np(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ip(t,e,n){return arguments.length>1?this.each((e==null?Lp:typeof e=="function"?Np:kp)(t,e,n??"")):rn(this.node(),t)}function rn(t,e){return t.style.getPropertyValue(e)||ml(t).getComputedStyle(t,null).getPropertyValue(e)}function zp(t){return function(){delete this[t]}}function Rp(t,e){return function(){this[t]=e}}function Pp(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Hp(t,e){return arguments.length>1?this.each((e==null?zp:typeof e=="function"?Pp:Rp)(t,e)):this.node()[t]}function yl(t){return t.trim().split(/^|\s+/)}function po(t){return t.classList||new wl(t)}function wl(t){this._node=t,this._names=yl(t.getAttribute("class")||"")}wl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xl(t,e){for(var n=po(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function bl(t,e){for(var n=po(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Fp(t){return function(){xl(this,t)}}function Up(t){return function(){bl(this,t)}}function Bp(t,e){return function(){(e.apply(this,arguments)?xl:bl)(this,t)}}function Vp(t,e){var n=yl(t+"");if(arguments.length<2){for(var r=po(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Bp:e?Fp:Up)(n,e))}function $p(){this.textContent=""}function Yp(t){return function(){this.textContent=t}}function Wp(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Gp(t){return arguments.length?this.each(t==null?$p:(typeof t=="function"?Wp:Yp)(t)):this.node().textContent}function jp(){this.innerHTML=""}function Xp(t){return function(){this.innerHTML=t}}function qp(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Kp(t){return arguments.length?this.each(t==null?jp:(typeof t=="function"?qp:Xp)(t)):this.node().innerHTML}function Zp(){this.nextSibling&&this.parentNode.appendChild(this)}function Jp(){return this.each(Zp)}function Qp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tg(){return this.each(Qp)}function eg(t){var e=typeof t=="function"?t:dl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ng(){return null}function rg(t,e){var n=typeof t=="function"?t:dl(t),r=e==null?ng:typeof e=="function"?e:ho(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ig(){var t=this.parentNode;t&&t.removeChild(this)}function ag(){return this.each(ig)}function og(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sg(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ug(t){return this.select(t?sg:og)}function lg(t){return arguments.length?this.property("__data__",t):this.node().__data__}var _l={},$=null;if(typeof document<"u"){var fg=document.documentElement;"onmouseenter"in fg||(_l={mouseenter:"mouseover",mouseleave:"mouseout"})}function cg(t,e,n){return t=Tl(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function Tl(t,e,n){return function(r){var i=$;$=r;try{t.call(this,this.__data__,e,n)}finally{$=i}}}function hg(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function dg(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):e[++r]=a;++r?e.length=r:delete this.__on}}}function pg(t,e,n){var r=_l.hasOwnProperty(t.type)?cg:Tl;return function(i,a,o){var u=this.__on,l,f=r(e,a,o);if(u){for(var c=0,d=u.length;c<d;++c)if((l=u[c]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=f,l.capture=n),l.value=e;return}}this.addEventListener(t.type,f,n),l={type:t.type,name:t.name,value:e,listener:f,capture:n},u?u.push(l):this.__on=[l]}}function gg(t,e,n){var r=hg(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,c;l<f;++l)for(i=0,c=u[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=e?pg:dg,n==null&&(n=!1),i=0;i<a;++i)this.each(u(r[i],e,n));return this}function Fa(t,e,n,r){var i=$;t.sourceEvent=$,$=t;try{return e.apply(n,r)}finally{$=i}}function Sl(t,e,n){var r=ml(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function vg(t,e){return function(){return Sl(this,t,e)}}function mg(t,e){return function(){return Sl(this,t,e.apply(this,arguments))}}function yg(t,e){return this.each((typeof e=="function"?mg:vg)(t,e))}var Cl=[null];function Ut(t,e){this._groups=t,this._parents=e}function tr(){return new Ut([[document.documentElement]],Cl)}Ut.prototype=tr.prototype={constructor:Ut,select:rp,selectAll:ap,filter:op,data:cp,enter:sp,exit:hp,join:dp,merge:pp,order:gp,sort:vp,call:yp,nodes:wp,node:xp,size:bp,empty:_p,each:Tp,attr:Op,style:Ip,property:Hp,classed:Vp,text:Gp,html:Kp,raise:Jp,lower:tg,append:eg,insert:rg,remove:ag,clone:ug,datum:lg,on:gg,dispatch:yg};function ot(t){return typeof t=="string"?new Ut([[document.querySelector(t)]],[document.documentElement]):new Ut([[t]],Cl)}function Ml(){for(var t=$,e;e=t.sourceEvent;)t=e;return t}function Al(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function In(t){var e=Ml();return e.changedTouches&&(e=e.changedTouches[0]),Al(t,e)}function Ua(t,e,n){arguments.length<3&&(n=e,e=Ml().changedTouches);for(var r=0,i=e?e.length:0,a;r<i;++r)if((a=e[r]).identifier===n)return Al(t,a);return null}var wg={value:function(){}};function ii(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dr(n)}function Dr(t){this._=t}function xg(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dr.prototype=ii.prototype={constructor:Dr,on:function(t,e){var n=this._,r=xg(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=bg(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=ms(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ms(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function bg(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ms(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wg,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}function ua(){$.stopImmediatePropagation()}function Ke(){$.preventDefault(),$.stopImmediatePropagation()}function El(t){var e=t.document.documentElement,n=ot(t).on("dragstart.drag",Ke,!0);"onselectstart"in e?n.on("selectstart.drag",Ke,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Dl(t,e){var n=t.document.documentElement,r=ot(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ke,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Tr(t){return function(){return t}}function Ba(t,e,n,r,i,a,o,u,l,f){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=u,this.dy=l,this._=f}Ba.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function _g(){return!$.ctrlKey&&!$.button}function Tg(){return this.parentNode}function Sg(t){return t??{x:$.x,y:$.y}}function Cg(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mg(){var t=_g,e=Tg,n=Sg,r=Cg,i={},a=ii("start","drag","end"),o=0,u,l,f,c,d=0;function p(A){A.on("mousedown.drag",v).filter(r).on("touchstart.drag",D).on("touchmove.drag",N).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){if(!(c||!t.apply(this,arguments))){var A=O("mouse",e.apply(this,arguments),In,this,arguments);A&&(ot($.view).on("mousemove.drag",b,!0).on("mouseup.drag",x,!0),El($.view),ua(),f=!1,u=$.clientX,l=$.clientY,A("start"))}}function b(){if(Ke(),!f){var A=$.clientX-u,k=$.clientY-l;f=A*A+k*k>d}i.mouse("drag")}function x(){ot($.view).on("mousemove.drag mouseup.drag",null),Dl($.view,f),Ke(),i.mouse("end")}function D(){if(t.apply(this,arguments)){var A=$.changedTouches,k=e.apply(this,arguments),T=A.length,B,K;for(B=0;B<T;++B)(K=O(A[B].identifier,k,Ua,this,arguments))&&(ua(),K("start"))}}function N(){var A=$.changedTouches,k=A.length,T,B;for(T=0;T<k;++T)(B=i[A[T].identifier])&&(Ke(),B("drag"))}function C(){var A=$.changedTouches,k=A.length,T,B;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),T=0;T<k;++T)(B=i[A[T].identifier])&&(ua(),B("end"))}function O(A,k,T,B,K){var nt=T(k,A),y,L,m,M=a.copy();if(Fa(new Ba(p,"beforestart",y,A,o,nt[0],nt[1],0,0,M),function(){return($.subject=y=n.apply(B,K))==null?!1:(L=y.x-nt[0]||0,m=y.y-nt[1]||0,!0)}))return function I(R){var P=nt,V;switch(R){case"start":i[A]=I,V=o++;break;case"end":delete i[A],--o;case"drag":nt=T(k,A),V=o;break}Fa(new Ba(p,R,y,A,V,nt[0]+L,nt[1]+m,nt[0]-P[0],nt[1]-P[1],M),M.apply,M,[R,B,K])}}return p.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Tr(!!A),p):t},p.container=function(A){return arguments.length?(e=typeof A=="function"?A:Tr(A),p):e},p.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Tr(A),p):n},p.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Tr(!!A),p):r},p.on=function(){var A=a.on.apply(a,arguments);return A===a?p:A},p.clickDistance=function(A){return arguments.length?(d=(A=+A)*A,p):Math.sqrt(d)},p}function Ol(t){return function(){return t}}function Ag(t,e){return function(n){return t+n*e}}function Eg(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dg(t){return(t=+t)==1?Ll:function(e,n){return n-e?Eg(e,n,t):Ol(isNaN(e)?n:e)}}function Ll(t,e){var n=e-t;return n?Ag(t,n):Ol(isNaN(t)?e:t)}var ys=function t(e){var n=Dg(e);function r(i,a){var o=n((i=Bn(i)).r,(a=Bn(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),f=Ll(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function ye(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Va=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,la=new RegExp(Va.source,"g");function Og(t){return function(){return t}}function Lg(t){return function(e){return t(e)+""}}function kg(t,e){var n=Va.lastIndex=la.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Va.exec(t))&&(i=la.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:ye(r,i)})),n=la.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?Lg(l[0].x):Og(e):(e=l.length,function(f){for(var c=0,d;c<e;++c)u[(d=l[c]).i]=d.x(f);return u.join("")})}var ws=180/Math.PI,$a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kl(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*ws,skewX:Math.atan(l)*ws,scaleX:o,scaleY:u}}var An,fa,xs,Sr;function Ng(t){return t==="none"?$a:(An||(An=document.createElement("DIV"),fa=document.documentElement,xs=document.defaultView),An.style.transform=t,t=xs.getComputedStyle(fa.appendChild(An),null).getPropertyValue("transform"),fa.removeChild(An),t=t.slice(7,-1).split(","),kl(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Ig(t){return t==null||(Sr||(Sr=document.createElementNS("http://www.w3.org/2000/svg","g")),Sr.setAttribute("transform",t),!(t=Sr.transform.baseVal.consolidate()))?$a:(t=t.matrix,kl(t.a,t.b,t.c,t.d,t.e,t.f))}function Nl(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,c,d,p,v,b){if(f!==d||c!==p){var x=v.push("translate(",null,e,null,n);b.push({i:x-4,x:ye(f,d)},{i:x-2,x:ye(c,p)})}else(d||p)&&v.push("translate("+d+e+p+n)}function o(f,c,d,p){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ye(f,c)})):c&&d.push(i(d)+"rotate("+c+r)}function u(f,c,d,p){f!==c?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ye(f,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(f,c,d,p,v,b){if(f!==d||c!==p){var x=v.push(i(v)+"scale(",null,",",null,")");b.push({i:x-4,x:ye(f,d)},{i:x-2,x:ye(c,p)})}else(d!==1||p!==1)&&v.push(i(v)+"scale("+d+","+p+")")}return function(f,c){var d=[],p=[];return f=t(f),c=t(c),a(f.translateX,f.translateY,c.translateX,c.translateY,d,p),o(f.rotate,c.rotate,d,p),u(f.skewX,c.skewX,d,p),l(f.scaleX,f.scaleY,c.scaleX,c.scaleY,d,p),f=c=null,function(v){for(var b=-1,x=p.length,D;++b<x;)d[(D=p[b]).i]=D.x(v);return d.join("")}}}var zg=Nl(Ng,"px, ","px)","deg)"),Rg=Nl(Ig,", ",")",")"),En=Math.SQRT2,ca=2,bs=4,Pg=1e-12;function _s(t){return((t=Math.exp(t))+1/t)/2}function Hg(t){return((t=Math.exp(t))-1/t)/2}function Fg(t){return((t=Math.exp(2*t))-1)/(t+1)}function Ug(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],u=e[2],l=a-n,f=o-r,c=l*l+f*f,d,p;if(c<Pg)p=Math.log(u/i)/En,d=function(C){return[n+C*l,r+C*f,i*Math.exp(En*C*p)]};else{var v=Math.sqrt(c),b=(u*u-i*i+bs*c)/(2*i*ca*v),x=(u*u-i*i-bs*c)/(2*u*ca*v),D=Math.log(Math.sqrt(b*b+1)-b),N=Math.log(Math.sqrt(x*x+1)-x);p=(N-D)/En,d=function(C){var O=C*p,A=_s(D),k=i/(ca*v)*(A*Fg(En*O+D)-Hg(D));return[n+k*l,r+k*f,i*A/_s(En*O+D)]}}return d.duration=p*1e3,d}var an=0,zn=0,Dn=0,Il=1e3,Yr,Rn,Wr=0,Ie=0,ai=0,Yn=typeof performance=="object"&&performance.now?performance:Date,zl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function oi(){return Ie||(zl(Bg),Ie=Yn.now()+ai)}function Bg(){Ie=0}function Gr(){this._call=this._time=this._next=null}Gr.prototype=Rl.prototype={constructor:Gr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?oi():+n)+(e==null?0:+e),!this._next&&Rn!==this&&(Rn?Rn._next=this:Yr=this,Rn=this),this._call=t,this._time=n,Ya()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ya())}};function Rl(t,e,n){var r=new Gr;return r.restart(t,e,n),r}function Vg(){oi(),++an;for(var t=Yr,e;t;)(e=Ie-t._time)>=0&&t._call.call(null,e),t=t._next;--an}function Ts(){Ie=(Wr=Yn.now())+ai,an=zn=0;try{Vg()}finally{an=0,Yg(),Ie=0}}function $g(){var t=Yn.now(),e=t-Wr;e>Il&&(ai-=e,Wr=t)}function Yg(){for(var t,e=Yr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yr=n);Rn=t,Ya(r)}function Ya(t){if(!an){zn&&(zn=clearTimeout(zn));var e=t-Ie;e>24?(t<1/0&&(zn=setTimeout(Ts,t-Yn.now()-ai)),Dn&&(Dn=clearInterval(Dn))):(Dn||(Wr=Yn.now(),Dn=setInterval($g,Il)),an=1,zl(Ts))}}function Ss(t,e,n){var r=new Gr;return e=e==null?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,n),r}var Wg=ii("start","end","cancel","interrupt"),Gg=[],Pl=0,Cs=1,Wa=2,Or=3,Ms=4,Ga=5,Lr=6;function si(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;jg(t,n,{name:e,index:r,group:i,on:Wg,tween:Gg,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Pl})}function go(t,e){var n=qt(t,e);if(n.state>Pl)throw new Error("too late; already scheduled");return n}function de(t,e){var n=qt(t,e);if(n.state>Or)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function jg(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Rl(a,0,n.time);function a(f){n.state=Cs,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,d,p,v;if(n.state!==Cs)return l();for(c in r)if(v=r[c],v.name===n.name){if(v.state===Or)return Ss(o);v.state===Ms?(v.state=Lr,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[c]):+c<e&&(v.state=Lr,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[c])}if(Ss(function(){n.state===Or&&(n.state=Ms,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Wa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wa){for(n.state=Or,i=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(v=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=v);i.length=d+1}}function u(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(l),n.state=Ga,1),d=-1,p=i.length;++d<p;)i[d].call(t,c);n.state===Ga&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Lr,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function kr(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Wa&&r.state<Ga,r.state=Lr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Xg(t){return this.each(function(){kr(this,t)})}function qg(t,e){var n,r;return function(){var i=de(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Kg(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=de(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},l=0,f=i.length;l<f;++l)if(i[l].name===e){i[l]=u;break}l===f&&i.push(u)}a.tween=i}}function Zg(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?qg:Kg)(n,t,e))}function vo(t,e,n){var r=t._id;return t.each(function(){var i=de(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,r).value[e]}}function Hl(t,e){var n;return(typeof e=="number"?ye:e instanceof ke?ys:(n=ke(e))?(e=n,ys):kg)(t,e)}function Jg(t){return function(){this.removeAttribute(t)}}function Qg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tv(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function ev(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function nv(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function rv(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function iv(t,e){var n=ri(t),r=n==="transform"?Rg:Hl;return this.attrTween(t,typeof e=="function"?(n.local?rv:nv)(n,r,vo(this,"attr."+t,e)):e==null?(n.local?Qg:Jg)(n):(n.local?ev:tv)(n,r,e))}function av(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ov(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function sv(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&ov(t,a)),n}return i._value=e,i}function uv(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&av(t,a)),n}return i._value=e,i}function lv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ri(t);return this.tween(n,(r.local?sv:uv)(r,e))}function fv(t,e){return function(){go(this,t).delay=+e.apply(this,arguments)}}function cv(t,e){return e=+e,function(){go(this,t).delay=e}}function hv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fv:cv)(e,t)):qt(this.node(),e).delay}function dv(t,e){return function(){de(this,t).duration=+e.apply(this,arguments)}}function pv(t,e){return e=+e,function(){de(this,t).duration=e}}function gv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dv:pv)(e,t)):qt(this.node(),e).duration}function vv(t,e){if(typeof e!="function")throw new Error;return function(){de(this,t).ease=e}}function mv(t){var e=this._id;return arguments.length?this.each(vv(e,t)):qt(this.node(),e).ease}function yv(t){typeof t!="function"&&(t=gl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,f=0;f<o;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&u.push(l);return new he(r,this._parents,this._name,this._id)}function wv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],f=n[u],c=l.length,d=o[u]=new Array(c),p,v=0;v<c;++v)(p=l[v]||f[v])&&(d[v]=p);for(;u<r;++u)o[u]=e[u];return new he(o,this._parents,this._name,this._id)}function xv(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function bv(t,e,n){var r,i,a=xv(e)?go:de;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function _v(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(bv(n,t,e))}function Tv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Sv(){return this.on("end.remove",Tv(this._id))}function Cv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ho(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,f=a[o]=new Array(l),c,d,p=0;p<l;++p)(c=u[p])&&(d=t.call(c,c.__data__,p,u))&&("__data__"in c&&(d.__data__=c.__data__),f[p]=d,si(f[p],e,n,p,f,qt(c,n)));return new he(a,this._parents,e,n)}function Mv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pl(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],f=l.length,c,d=0;d<f;++d)if(c=l[d]){for(var p=t.call(c,c.__data__,d,l),v,b=qt(c,n),x=0,D=p.length;x<D;++x)(v=p[x])&&si(v,e,n,x,p,b);a.push(p),o.push(c)}return new he(a,o,e,n)}var Av=tr.prototype.constructor;function Ev(){return new Av(this._groups,this._parents)}function Dv(t,e){var n,r,i;return function(){var a=rn(this,t),o=(this.style.removeProperty(t),rn(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Fl(t){return function(){this.style.removeProperty(t)}}function Ov(t,e,n){var r,i=n+"",a;return function(){var o=rn(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function Lv(t,e,n){var r,i,a;return function(){var o=rn(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),rn(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u))}}function kv(t,e){var n,r,i,a="style."+e,o="end."+a,u;return function(){var l=de(this,t),f=l.on,c=l.value[a]==null?u||(u=Fl(e)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),l.on=r}}function Nv(t,e,n){var r=(t+="")=="transform"?zg:Hl;return e==null?this.styleTween(t,Dv(t,r)).on("end.style."+t,Fl(t)):typeof e=="function"?this.styleTween(t,Lv(t,r,vo(this,"style."+t,e))).each(kv(this._id,t)):this.styleTween(t,Ov(t,r,e),n).on("end.style."+t,null)}function Iv(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zv(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Iv(t,o,n)),r}return a._value=e,a}function Rv(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,zv(t,e,n??""))}function Pv(t){return function(){this.textContent=t}}function Hv(t){return function(){var e=t(this);this.textContent=e??""}}function Fv(t){return this.tween("text",typeof t=="function"?Hv(vo(this,"text",t)):Pv(t==null?"":t+""))}function Uv(t){return function(e){this.textContent=t.call(this,e)}}function Bv(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Uv(i)),e}return r._value=t,r}function Vv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Bv(t))}function $v(){for(var t=this._name,e=this._id,n=Ul(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,f=0;f<u;++f)if(l=o[f]){var c=qt(l,e);si(l,t,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new he(r,this._parents,t,n)}function Yv(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var f=de(this,r),c=f.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),f.on=e})})}var Wv=0;function he(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ul(){return++Wv}var Ge=tr.prototype;he.prototype={constructor:he,select:Cv,selectAll:Mv,filter:yv,merge:wv,selection:Ev,transition:$v,call:Ge.call,nodes:Ge.nodes,node:Ge.node,size:Ge.size,empty:Ge.empty,each:Ge.each,on:_v,attr:iv,attrTween:lv,style:Nv,styleTween:Rv,text:Fv,textTween:Vv,remove:Sv,tween:Zg,delay:hv,duration:gv,ease:mv,end:Yv};function Gv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ja={time:null,delay:0,duration:250,ease:Gv};function jv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ja.time=oi(),ja;return n}function Xv(t){var e,n;t instanceof he?(e=t._id,t=t._name):(e=Ul(),(n=ja).time=oi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,f=0;f<u;++f)(l=o[f])&&si(l,t,e,f,o,n||jv(l,e));return new he(r,this._parents,t,e)}tr.prototype.interrupt=Xg;tr.prototype.transition=Xv;function Cr(t){return function(){return t}}function qv(t,e,n){this.target=t,this.type=e,this.transform=n}function we(t,e,n){this.k=t,this.x=e,this.y=n}we.prototype={constructor:we,scale:function(t){return t===1?this:new we(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new we(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var er=new we(1,0,0);function ha(){$.stopImmediatePropagation()}function On(){$.preventDefault(),$.stopImmediatePropagation()}function Kv(){return!$.ctrlKey&&!$.button}function Zv(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function As(){return this.__zoom||er}function Jv(){return-$.deltaY*($.deltaMode===1?.05:$.deltaMode?1:.002)}function Qv(){return navigator.maxTouchPoints||"ontouchstart"in this}function tm(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function em(){var t=Kv,e=Zv,n=tm,r=Jv,i=Qv,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,l=Ug,f=ii("start","zoom","end"),c,d,p=500,v=150,b=0;function x(m){m.property("__zoom",As).on("wheel.zoom",T).on("mousedown.zoom",B).on("dblclick.zoom",K).filter(i).on("touchstart.zoom",nt).on("touchmove.zoom",y).on("touchend.zoom touchcancel.zoom",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(m,M,I){var R=m.selection?m.selection():m;R.property("__zoom",As),m!==R?O(m,M,I):R.interrupt().each(function(){A(this,arguments).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},x.scaleBy=function(m,M,I){x.scaleTo(m,function(){var R=this.__zoom.k,P=typeof M=="function"?M.apply(this,arguments):M;return R*P},I)},x.scaleTo=function(m,M,I){x.transform(m,function(){var R=e.apply(this,arguments),P=this.__zoom,V=I==null?C(R):typeof I=="function"?I.apply(this,arguments):I,X=P.invert(V),Y=typeof M=="function"?M.apply(this,arguments):M;return n(N(D(P,Y),V,X),R,o)},I)},x.translateBy=function(m,M,I){x.transform(m,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof I=="function"?I.apply(this,arguments):I),e.apply(this,arguments),o)})},x.translateTo=function(m,M,I,R){x.transform(m,function(){var P=e.apply(this,arguments),V=this.__zoom,X=R==null?C(P):typeof R=="function"?R.apply(this,arguments):R;return n(er.translate(X[0],X[1]).scale(V.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof I=="function"?-I.apply(this,arguments):-I),P,o)},R)};function D(m,M){return M=Math.max(a[0],Math.min(a[1],M)),M===m.k?m:new we(M,m.x,m.y)}function N(m,M,I){var R=M[0]-I[0]*m.k,P=M[1]-I[1]*m.k;return R===m.x&&P===m.y?m:new we(m.k,R,P)}function C(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function O(m,M,I){m.on("start.zoom",function(){A(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).end()}).tween("zoom",function(){var R=this,P=arguments,V=A(R,P),X=e.apply(R,P),Y=I==null?C(X):typeof I=="function"?I.apply(R,P):I,W=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),bt=R.__zoom,mt=typeof M=="function"?M.apply(R,P):M,st=l(bt.invert(Y).concat(W/bt.k),mt.invert(Y).concat(W/mt.k));return function(ct){if(ct===1)ct=mt;else{var J=st(ct),Ht=W/J[2];ct=new we(Ht,Y[0]-J[0]*Ht,Y[1]-J[1]*Ht)}V.zoom(null,ct)}})}function A(m,M,I){return!I&&m.__zooming||new k(m,M)}function k(m,M){this.that=m,this.args=M,this.active=0,this.extent=e.apply(m,M),this.taps=0}k.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,M){return this.mouse&&m!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){Fa(new qv(x,m,this.that.__zoom),f.apply,f,[m,this.that,this.args])}};function T(){if(!t.apply(this,arguments))return;var m=A(this,arguments),M=this.__zoom,I=Math.max(a[0],Math.min(a[1],M.k*Math.pow(2,r.apply(this,arguments)))),R=In(this);if(m.wheel)(m.mouse[0][0]!==R[0]||m.mouse[0][1]!==R[1])&&(m.mouse[1]=M.invert(m.mouse[0]=R)),clearTimeout(m.wheel);else{if(M.k===I)return;m.mouse=[R,M.invert(R)],kr(this),m.start()}On(),m.wheel=setTimeout(P,v),m.zoom("mouse",n(N(D(M,I),m.mouse[0],m.mouse[1]),m.extent,o));function P(){m.wheel=null,m.end()}}function B(){if(d||!t.apply(this,arguments))return;var m=A(this,arguments,!0),M=ot($.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",X,!0),I=In(this),R=$.clientX,P=$.clientY;El($.view),ha(),m.mouse=[I,this.__zoom.invert(I)],kr(this),m.start();function V(){if(On(),!m.moved){var Y=$.clientX-R,W=$.clientY-P;m.moved=Y*Y+W*W>b}m.zoom("mouse",n(N(m.that.__zoom,m.mouse[0]=In(m.that),m.mouse[1]),m.extent,o))}function X(){M.on("mousemove.zoom mouseup.zoom",null),Dl($.view,m.moved),On(),m.end()}}function K(){if(t.apply(this,arguments)){var m=this.__zoom,M=In(this),I=m.invert(M),R=m.k*($.shiftKey?.5:2),P=n(N(D(m,R),M,I),e.apply(this,arguments),o);On(),u>0?ot(this).transition().duration(u).call(O,P,M):ot(this).call(x.transform,P)}}function nt(){if(t.apply(this,arguments)){var m=$.touches,M=m.length,I=A(this,arguments,$.changedTouches.length===M),R,P,V,X;for(ha(),P=0;P<M;++P)V=m[P],X=Ua(this,m,V.identifier),X=[X,this.__zoom.invert(X),V.identifier],I.touch0?!I.touch1&&I.touch0[2]!==X[2]&&(I.touch1=X,I.taps=0):(I.touch0=X,R=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),R&&(I.taps<2&&(c=setTimeout(function(){c=null},p)),kr(this),I.start())}}function y(){if(this.__zooming){var m=A(this,arguments),M=$.changedTouches,I=M.length,R,P,V,X;for(On(),c&&(c=clearTimeout(c)),m.taps=0,R=0;R<I;++R)P=M[R],V=Ua(this,M,P.identifier),m.touch0&&m.touch0[2]===P.identifier?m.touch0[0]=V:m.touch1&&m.touch1[2]===P.identifier&&(m.touch1[0]=V);if(P=m.that.__zoom,m.touch1){var Y=m.touch0[0],W=m.touch0[1],bt=m.touch1[0],mt=m.touch1[1],st=(st=bt[0]-Y[0])*st+(st=bt[1]-Y[1])*st,ct=(ct=mt[0]-W[0])*ct+(ct=mt[1]-W[1])*ct;P=D(P,Math.sqrt(st/ct)),V=[(Y[0]+bt[0])/2,(Y[1]+bt[1])/2],X=[(W[0]+mt[0])/2,(W[1]+mt[1])/2]}else if(m.touch0)V=m.touch0[0],X=m.touch0[1];else return;m.zoom("touch",n(N(P,V,X),m.extent,o))}}function L(){if(this.__zooming){var m=A(this,arguments),M=$.changedTouches,I=M.length,R,P;for(ha(),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),R=0;R<I;++R)P=M[R],m.touch0&&m.touch0[2]===P.identifier?delete m.touch0:m.touch1&&m.touch1[2]===P.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2){var V=ot(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return x.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Cr(+m),x):r},x.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Cr(!!m),x):t},x.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Cr(!!m),x):i},x.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Cr([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),x):e},x.scaleExtent=function(m){return arguments.length?(a[0]=+m[0],a[1]=+m[1],x):[a[0],a[1]]},x.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(m){return arguments.length?(n=m,x):n},x.duration=function(m){return arguments.length?(u=+m,x):u},x.interpolate=function(m){return arguments.length?(l=m,x):l},x.on=function(){var m=f.on.apply(f,arguments);return m===f?x:m},x.clickDistance=function(m){return arguments.length?(b=(m=+m)*m,x):Math.sqrt(b)},x}var Es=function(t,e,n){var r=n.xScale,i=n.yScale;return{xScale:e.enableXScroll?t.rescaleX(r):r,yScale:e.enableYScroll?t.rescaleY(i):i}},nm=function(t){var e=t.prevXScale,n=t.prevDates,r=t.currDates,i=n.end.getTime()-n.start.getTime(),a=r.end.getTime()-r.start.getTime(),o=i/a,u=e(r.start),l=-1*u*o;return er.translate(l,0).scale(o)},rm=function(t){var e=t.xScale,n=t.transform,r=n.rescaleX(e),i=r.domain(),a=i[0],o=i[1];return{startDate:new Date(a),endDate:new Date(o)}},im=function(){return $.type==="wheel"?!1:$.type==="mousedown"?$.shiftKey:!$.ctrlKey&&!$.button},am=function(){function t(e,n,r){var i=e.xScale,a=e.yScale;this.zoomBehavior=em().scaleExtent([n.zoomMin,n.zoomMax]).filter(im),this.xScale=i.copy(),this.yScale=a.copy(),this.movement=n,this.getContainer=r}return t.prototype.init=function(){var e=this.getContainer();if(e==null)throw new Error("Must not init Zoom before the container is available!");ot(e).call(this.zoomBehavior)},t.prototype.transform=function(e,n){this.zoomBehavior.transform(e,n)},t.prototype.on=function(e,n){var r=this;this.zoomBehavior.on(e,function(){var i=rm({xScale:r.xScale,transform:$.transform}),a=i.startDate,o=i.endDate;n(a,o)})},t.prototype.updateViewPort=function(e){var n=e.start,r=e.end,i=e.yMin,a=e.yMax,o=this.xScale.domain(),u=o[0],l=o[1],f=nm({prevXScale:this.xScale,prevDates:{start:u,end:l},currDates:{start:n,end:r}});return this.setTransform(f),Es(f,this.movement,{xScale:this.xScale,yScale:this.yScale.domain([i,a])})},t.prototype.updateSize=function(e){var n=e.xMin,r=e.xMax,i=e.yMin,a=e.yMax,o=this.getTransform(),u=o.x,l=o.y,f=o.k,c=this.xScale.range(),d=c[0],p=c[1],v=(r-n)/(p-d);return this.xScale.range([n,r]),this.yScale.range([i,a]),this.setTransform(er.translate(u*v,l).scale(f)),Es(this.getTransform(),this.movement,{xScale:this.xScale,yScale:this.yScale})},t.prototype.getTransform=function(){var e=this.getContainer();if(e==null)throw new Error("Container must not be null to set a internal zoom transform");return e.__zoom},t.prototype.setTransform=function(e){var n=this.getContainer();if(n==null)throw new Error("Container must not be null to set a internal zoom transform");n.__zoom=e},t}(),om=function(t){var e=t.xScale,n=t.xSelectedPixelMax,r=t.xSelectedPixelMin,i=t.xScaleOriginal,a=t.movement,o=e.invert(n).getTime()-e.invert(r).getTime(),u=i.domain()[1].getTime()-i.domain()[0].getTime(),l=Math.max(Math.min(u/o,a.zoomMax),a.zoomMin),f=i(e.invert(r)),c=-1*l*f;return er.translate(c,0).scale(l)},sm="iot-app-kit-vis-gesture-handler svg{position:absolute;width:100%;height:100%}iot-app-kit-vis-gesture-handler line{stroke:var(--selection-color);opacity:0.3;stroke-width:1.5px}iot-app-kit-vis-gesture-handler .overlay{fill:none;pointer-events:all;cursor:crosshair}iot-app-kit-vis-gesture-handler .brush-box{fill:var(--selection-color);opacity:0.2}",um=600,lm=6,Ds={enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},fm=function(){function t(e){var n=this;kt(this,e),this.zoomContainer=void 0,this.beginBrush=function(r){var i=r.offsetX,a=r.shiftKey;a||(n.start=i,n.end=i)},this.moveBrush=function(r){var i=r.offsetX,a=r.buttons,o=r.shiftKey,u=a>0;u&&n.start!=null&&!o?n.end=i:(n.start=void 0,n.end=void 0)},this.finishBrush=function(r){var i=r.shiftKey;if(n.start!=null&&n.end!=null&&!i){var a=Math.min(n.start,n.end),o=Math.max(n.start,n.end);o-a>lm&&n.initiateTransform(a,o)}n.start=void 0,n.end=void 0},this.cancelBrush=function(){n.start=void 0,n.end=void 0},this.initiateTransform=function(r,i){var a=Er().domain([n.viewport.start.getTime(),n.viewport.end.getTime()]).range([0,n.size.width]),o=Er().domain([n.initialViewPort.start.getTime(),n.initialViewPort.end.getTime()]).range([0,n.size.width]),u=om({xSelectedPixelMin:r,xSelectedPixelMax:i,xScaleOriginal:o,xScale:a,movement:Ds}),l=ot(n.getZoomContainer()).transition().duration(um);n.zoom.transform(l,u)},this.getZoomContainer=function(){return n.zoomContainer||(n.zoomContainer=n.el.querySelector(".zoom-container")),n.zoomContainer}}return t.prototype.componentDidLoad=function(){this.initialViewPort=this.viewport,this.setupZoom(),this.el.addEventListener("mousedown",this.beginBrush,{capture:!0}),this.el.addEventListener("mousemove",this.moveBrush),this.el.addEventListener("mouseup",this.finishBrush),this.el.addEventListener("mouseleave",this.cancelBrush)},t.prototype.disconnectedCallback=function(){this.el.removeEventListener("mousedown",this.beginBrush),this.el.removeEventListener("mousemove",this.moveBrush),this.el.removeEventListener("mouseup",this.finishBrush),this.el.removeEventListener("mouseleave",this.cancelBrush)},t.prototype.onViewPortChange=function(e){this.zoom.updateViewPort(e)},t.prototype.onSizeChange=function(){var e=this.size,n=e.width,r=e.height;this.zoom.updateSize({xMin:0,xMax:n,yMax:0,yMin:r})},t.prototype.scales=function(){var e=this.viewport,n=e.yMin,r=e.yMax,i=e.start,a=e.end,o=this.size,u=o.width,l=o.height,f=Er().domain([i.getTime(),a.getTime()]).range([0,u]),c=lo().domain([n,r]).range([l,0]);return{xScale:f,yScale:c}},t.prototype.setupZoom=function(){var e=this,n=this.scales(),r=n.xScale,i=n.yScale;this.zoom=new am({xScale:r,yScale:i},Ds,this.getZoomContainer),this.zoom.on("zoom.base-chart",function(a,o){e.onDateRangeChange({start:a,end:o})}),this.zoom.init()},t.prototype.render=function(){var e=this.size,n=e.width,r=e.height;return w("svg",null,this.start!=null&&this.end!=null&&w("line",{x1:this.start,y1:0,x2:this.start,y2:r}),this.start!=null&&this.end!=null&&w("rect",{class:"brush-box",x:Math.min(this.start,this.end),height:r,width:Math.abs(this.end-this.start),y:0}),this.start!=null&&this.end!=null&&w("line",{x1:this.end,y1:0,x2:this.end,y2:r}),w("rect",{class:"overlay zoom-container",width:n,height:r}))},Object.defineProperty(t.prototype,"el",{get:function(){return on(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{viewport:["onViewPortChange"],size:["onSizeChange"]}},enumerable:!1,configurable:!0}),t}();fm.style=sm;var cm=function(t){var e=t.data,n=e.length;if(n===0)return null;for(var r=e[0].x,i=0,a=0,o=0,u=0,l=0;l<n;l+=1){var f=e[l],c=f.x,d=f.y,p=c-r;i+=p,a+=d,o+=p*p,u+=p*d}var v=n*o-i*i,b=n*u-i*a,x=v===0?0:b/v,D=a/n-x*i/n;return{type:Xn.LINEAR,dataStreamId:t.id,equation:{gradient:x,intercept:D},startDate:new Date(r)}},hm=function(t,e){switch(e){case Xn.LINEAR:return cm(t);default:return console.error("Unable to compute trend result for trend type '"+e+"'."),null}},dm=function(t,e,n){var r=[];return e.forEach(function(i){var a=i.id,o=i.data,u=gu(o,t);u.length>=2&&n.filter(function(l){var f=l.dataStreamId;return a===f}).forEach(function(l){var f=l.type,c=l.color,d=hm(Object.assign(Object.assign({},i),{data:u}),f);d&&r.push(Object.assign(Object.assign({},d),{color:c}))})}),r},jr=function(t,e){switch(t.type){case Xn.LINEAR:return(e-t.startDate.getTime())*t.equation.gradient+t.equation.intercept;default:throw new Error("Cannot compute trend value for trend of type '"+t.type+"' on data stream "+t.dataStreamId+".")}},pm=2,gm="4, 7",Xa=function(t,e){var n;switch(e){case Xn.LINEAR:n="linear";break;default:console.warn("No label associated with trend type "+e+"."),n="trend"}return t+" ("+n+")"},vm="iot-app-kit-vis-legend .legend-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;font-size:var(--font-size-1);overflow-y:scroll;overflow-x:hidden;-ms-overflow-style:none;scrollbar-width:none}iot-app-kit-vis-legend .legend-container::-webkit-scrollbar{display:none}",mm=function(){},ym=function(){function t(e){var n=this;kt(this,e),this.isEditing=!1,this.trendResults=[],this.visualizedDataStreams=function(){var r=n.dataStreams.filter(iu(n.supportString));return n.visualizesAlarms?r:r.filter(function(i){var a=i.streamType;return a!==zr.ALARM})},this.breachedThresholdColor=function(r,i){var a=pu({value:r&&r.y,date:n.viewport.end,dataStreams:n.dataStreams,dataStream:i,thresholds:n.thresholds});return a?{color:a.color,icon:a.icon}:void 0}}return t.prototype.render=function(){var e=this,n=cu({viewport:this.viewport,dataStreams:this.dataStreams,selectedDate:this.viewport.end,allowMultipleDates:!0,dataAlignment:yf.EITHER}),r=n.length===0||n[0].point==null?this.viewport.end.getTime():n[0].point.x;return w("div",{class:"legend-container",style:{flexDirection:this.config.position===Rr.RIGHT?"column":"unset"}},this.visualizedDataStreams().map(function(i){var a=n.find(function(p){return p.streamId===i.id}),o=a?a.point:void 0,u=e.breachedThresholdColor(o,i)||{},l=u.color,f=l===void 0?void 0:l,c=u.icon,d=c===void 0?void 0:c;return Ja([w("iot-app-kit-vis-legend-row",{streamId:i.id,label:i.name,detailedLabel:i.detailedName,color:i.color||"black",valueColor:f,point:o,pointType:a&&"data",unit:i.unit,updateDataStreamName:e.updateDataStreamName,isEditing:e.isEditing,isLoading:e.isLoading,showDataStreamColor:e.showDataStreamColor,icon:d,precision:e.precision})],e.trendResults.reduce(function(p,v){return v.dataStreamId===i.id&&p.push(w("iot-app-kit-vis-legend-row",{streamId:i.id,label:Xa(i.name,v.type),detailedLabel:i.detailedName&&Xa(i.detailedName,v.type),color:v.color||i.color||"black",valueColor:f,point:{x:r,y:jr(v,r)},pointType:"trend",unit:i.unit,updateDataStreamName:mm,isEditing:!1,isLoading:e.isLoading,showDataStreamColor:e.showDataStreamColor,precision:e.precision})),p},[]))}))},t}();ym.style=vm;var wm="#000",xm="iot-app-kit-vis-legend-row{--color-container-width:18px;overflow:hidden;display:inline-block;margin-right:var(--margin-small);color:var(--secondary-font-color);padding-right:var(--margin-small)}iot-app-kit-vis-legend-row .legend-row-container{display:-ms-flexbox;display:flex;margin-left:8px}iot-app-kit-vis-legend-row .legend-value{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}iot-app-kit-vis-legend-row .color-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;width:var(--color-container-width);height:20px;padding-top:11px}iot-app-kit-vis-data-stream-info .spinner-container{position:relative;top:5px}iot-app-kit-vis-legend-row .bar{width:var(--color-container-width)}iot-app-kit-vis-legend-row .info{padding-left:var(--margin-small);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}iot-app-kit-vis-legend-row .info h4{line-height:0.2em;font-size:14px}iot-app-kit-vis-legend-row .sc-expandable-input{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}",bm={top:"-2px"},_m={top:"-4px"},Tm=function(){function t(e){var n=this;kt(this,e),this.valueColor=wm,this.updateName=function(r){n.updateDataStreamName({streamId:n.streamId,name:r})}}return t.prototype.render=function(){var e=this.pointType&&this.pointType==="trend";return w(sf,null,w("div",{class:"legend-row-container awsui"},this.showDataStreamColor&&w("div",{class:"color-container"},this.isLoading?w("div",{class:"spinner-container"},w("iot-app-kit-vis-loading-spinner",{dark:!0,size:12})):w("svg",{class:"bar","data-testid":"legend-icon-"+this.pointType},w("path",{stroke:this.color,"stroke-dasharray":e?su:"","stroke-linecap":uu,"stroke-width":lu,d:fu}))),w("div",{class:"info"},w("iot-app-kit-vis-data-stream-name",{onNameChange:this.updateName,isEditing:this.isEditing,label:this.label,detailedLabel:this.detailedLabel,pointType:this.pointType,date:this.point&&new Date(this.point.x)}),w("div",{class:"legend-value",style:this.isEditing?bm:_m},this.icon&&w("iot-app-kit-vis-chart-icon",{name:this.icon}),w("h4",{class:"awsui-util-d-i","data-testid":"current-value",style:{color:this.valueColor}},w(hu,{value:this.point?this.point.y:void 0,precision:this.precision})),this.unit&&w("small",null," ",this.unit)))))},t}();Tm.style=xm;var Sm="@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}svg{-webkit-animation:spin 900ms linear infinite, fadeIn 1s linear;animation:spin 900ms linear infinite, fadeIn 1s linear}path#c{fill:var(--loading-spinner-color)}.dark path#c{fill:var(--loading-spinner-color-dark)}",Cm=function(){function t(e){kt(this,e)}return t.prototype.render=function(){var e=this,n=e.size,r=e.dark,i=r===void 0?!1:r;return w("svg",{class:{dark:i},style:n!=null?{width:n+"px",height:n+"px"}:{},"data-testid":"loading",viewBox:"0 0 200 200"},w("defs",null,w("clipPath",{id:"a"},w("path",{d:"M200 100a100 100 0 11-2.19-20.79l-9.78 2.08A90 90 0 10190 100z"})),w("filter",{id:"b",x:"0",y:"0"},w("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3"})),w("path",{id:"c",d:"M250 100a150 150 0 01-3.28 31.19L100 100z"})),w("g",{"clip-path":"url(#a)"},w("g",{filter:"url(#b)",transform:"rotate(-6 100 100)"},w("use",{xlinkHref:"#c","fill-opacity":"0"}),w("use",{xlinkHref:"#c","fill-opacity":".03",transform:"rotate(12 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".07",transform:"rotate(24 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".1",transform:"rotate(36 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".14",transform:"rotate(48 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".17",transform:"rotate(60 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".2",transform:"rotate(72 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".24",transform:"rotate(84 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".28",transform:"rotate(96 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".31",transform:"rotate(108 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".34",transform:"rotate(120 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".38",transform:"rotate(132 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".41",transform:"rotate(144 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".45",transform:"rotate(156 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".48",transform:"rotate(168 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".52",transform:"rotate(180 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".55",transform:"rotate(192 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".59",transform:"rotate(204 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".62",transform:"rotate(216 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".66",transform:"rotate(228 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".69",transform:"rotate(240 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".7",transform:"rotate(252 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".72",transform:"rotate(264 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".76",transform:"rotate(276 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".79",transform:"rotate(288 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".83",transform:"rotate(300 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".86",transform:"rotate(312 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".93",transform:"rotate(324 100 100)"}),w("use",{xlinkHref:"#c","fill-opacity":".97",transform:"rotate(336 100 100)"}),w("use",{xlinkHref:"#c",transform:"rotate(348 100 100)"}))))},t}();Cm.style=Sm;var je=ou(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,u="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",p="[object Error]",v="[object Function]",b="[object GeneratorFunction]",x="[object Map]",D="[object Number]",N="[object Null]",C="[object Object]",O="[object Promise]",A="[object Proxy]",k="[object RegExp]",T="[object Set]",B="[object String]",K="[object Symbol]",nt="[object Undefined]",y="[object WeakMap]",L="[object ArrayBuffer]",m="[object DataView]",M="[object Float32Array]",I="[object Float64Array]",R="[object Int8Array]",P="[object Int16Array]",V="[object Int32Array]",X="[object Uint8Array]",Y="[object Uint8ClampedArray]",W="[object Uint16Array]",bt="[object Uint32Array]",mt=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,ct=/^(?:0|[1-9]\d*)$/,J={};J[M]=J[I]=J[R]=J[P]=J[V]=J[X]=J[Y]=J[W]=J[bt]=!0,J[u]=J[l]=J[L]=J[c]=J[m]=J[d]=J[p]=J[v]=J[x]=J[D]=J[C]=J[k]=J[T]=J[B]=J[y]=!1;var Ht=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,Bt=typeof self=="object"&&self&&self.Object===Object&&self,_t=Ht||Bt||Function("return this")(),z=e&&!e.nodeType&&e,G=z&&!0&&t&&!t.nodeType&&t,q=G&&G.exports===z,E=q&&Ht.process,lt=function(){try{return E&&E.binding&&E.binding("util")}catch{}}(),tt=lt&&lt.isTypedArray;function ut(s,h){for(var g=-1,_=s==null?0:s.length,j=0,U=[];++g<_;){var et=s[g];h(et,g,s)&&(U[j++]=et)}return U}function ft(s,h){for(var g=-1,_=h.length,j=s.length;++g<_;)s[j+g]=h[g];return s}function It(s,h){for(var g=-1,_=s==null?0:s.length;++g<_;)if(h(s[g],g,s))return!0;return!1}function Kt(s,h){for(var g=-1,_=Array(s);++g<s;)_[g]=h(g);return _}function Zt(s){return function(h){return s(h)}}function pe(s,h){return s.has(h)}function _e(s,h){return s==null?void 0:s[h]}function Fe(s){var h=-1,g=Array(s.size);return s.forEach(function(_,j){g[++h]=[j,_]}),g}function Ue(s,h){return function(g){return s(h(g))}}function Vt(s){var h=-1,g=Array(s.size);return s.forEach(function(_){g[++h]=_}),g}var ge=Array.prototype,fn=Function.prototype,ae=Object.prototype,S=_t["__core-js_shared__"],H=fn.toString,F=ae.hasOwnProperty,Q=function(){var s=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Z=ae.toString,Tt=RegExp("^"+H.call(F).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=q?_t.Buffer:void 0,yt=_t.Symbol,St=_t.Uint8Array,$t=ae.propertyIsEnumerable,Gt=ge.splice,Ot=yt?yt.toStringTag:void 0,oe=Object.getOwnPropertySymbols,cn=zt?zt.isBuffer:void 0,Te=Ue(Object.keys,Object),hn=ue(_t,"DataView"),Se=ue(_t,"Map"),dn=ue(_t,"Promise"),pn=ue(_t,"Set"),gn=ue(_t,"WeakMap"),ve=ue(Object,"create"),nr=Lt(hn),se=Lt(Se),fi=Lt(dn),ci=Lt(pn),hi=Lt(gn),rr=yt?yt.prototype:void 0,vn=rr?rr.valueOf:void 0;function wt(s){var h=-1,g=s==null?0:s.length;for(this.clear();++h<g;){var _=s[h];this.set(_[0],_[1])}}function di(){this.__data__=ve?ve(null):{},this.size=0}function pi(s){var h=this.has(s)&&delete this.__data__[s];return this.size-=h?1:0,h}function gi(s){var h=this.__data__;if(ve){var g=h[s];return g===r?void 0:g}return F.call(h,s)?h[s]:void 0}function vi(s){var h=this.__data__;return ve?h[s]!==void 0:F.call(h,s)}function mi(s,h){var g=this.__data__;return this.size+=this.has(s)?0:1,g[s]=ve&&h===void 0?r:h,this}wt.prototype.clear=di,wt.prototype.delete=pi,wt.prototype.get=gi,wt.prototype.has=vi,wt.prototype.set=mi;function Ct(s){var h=-1,g=s==null?0:s.length;for(this.clear();++h<g;){var _=s[h];this.set(_[0],_[1])}}function yi(){this.__data__=[],this.size=0}function wi(s){var h=this.__data__,g=$e(h,s);if(g<0)return!1;var _=h.length-1;return g==_?h.pop():Gt.call(h,g,1),--this.size,!0}function xi(s){var h=this.__data__,g=$e(h,s);return g<0?void 0:h[g][1]}function bi(s){return $e(this.__data__,s)>-1}function _i(s,h){var g=this.__data__,_=$e(g,s);return _<0?(++this.size,g.push([s,h])):g[_][1]=h,this}Ct.prototype.clear=yi,Ct.prototype.delete=wi,Ct.prototype.get=xi,Ct.prototype.has=bi,Ct.prototype.set=_i;function Rt(s){var h=-1,g=s==null?0:s.length;for(this.clear();++h<g;){var _=s[h];this.set(_[0],_[1])}}function Ti(){this.size=0,this.__data__={hash:new wt,map:new(Se||Ct),string:new wt}}function Si(s){var h=jt(this,s).delete(s);return this.size-=h?1:0,h}function Ci(s){return jt(this,s).get(s)}function Mi(s){return jt(this,s).has(s)}function Ai(s,h){var g=jt(this,s),_=g.size;return g.set(s,h),this.size+=g.size==_?0:1,this}Rt.prototype.clear=Ti,Rt.prototype.delete=Si,Rt.prototype.get=Ci,Rt.prototype.has=Mi,Rt.prototype.set=Ai;function Be(s){var h=-1,g=s==null?0:s.length;for(this.__data__=new Rt;++h<g;)this.add(s[h])}function ir(s){return this.__data__.set(s,r),this}function Ve(s){return this.__data__.has(s)}Be.prototype.add=Be.prototype.push=ir,Be.prototype.has=Ve;function Jt(s){var h=this.__data__=new Ct(s);this.size=h.size}function mn(){this.__data__=new Ct,this.size=0}function Ei(s){var h=this.__data__,g=h.delete(s);return this.size=h.size,g}function Di(s){return this.__data__.get(s)}function Oi(s){return this.__data__.has(s)}function Li(s,h){var g=this.__data__;if(g instanceof Ct){var _=g.__data__;if(!Se||_.length<n-1)return _.push([s,h]),this.size=++g.size,this;g=this.__data__=new Rt(_)}return g.set(s,h),this.size=g.size,this}Jt.prototype.clear=mn,Jt.prototype.delete=Ei,Jt.prototype.get=Di,Jt.prototype.has=Oi,Jt.prototype.set=Li;function ki(s,h){var g=Ye(s),_=!g&&lr(s),j=!g&&!_&&We(s),U=!g&&!_&&!j&&hr(s),et=g||_||j||U,rt=et?Kt(s.length,String):[],ht=rt.length;for(var at in s)(h||F.call(s,at))&&!(et&&(at=="length"||j&&(at=="offset"||at=="parent")||U&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||Ui(at,ht)))&&rt.push(at);return rt}function $e(s,h){for(var g=s.length;g--;)if(ur(s[g][0],h))return g;return-1}function yn(s,h,g){var _=h(s);return Ye(s)?_:ft(_,g(s))}function Ce(s){return s==null?s===void 0?nt:N:Ot&&Ot in Object(s)?le(s):sr(s)}function ar(s){return te(s)&&Ce(s)==u}function or(s,h,g,_,j){return s===h?!0:s==null||h==null||!te(s)&&!te(h)?s!==s&&h!==h:Ni(s,h,g,_,or,j)}function Ni(s,h,g,_,j,U){var et=Ye(s),rt=Ye(h),ht=et?l:Qt(s),at=rt?l:Qt(h);ht=ht==u?C:ht,at=at==u?C:at;var Mt=ht==C,Pt=at==C,dt=ht==at;if(dt&&We(s)){if(!We(h))return!1;et=!0,Mt=!1}if(dt&&!Mt)return U||(U=new Jt),et||hr(s)?wn(s,h,g,_,j,U):Pi(s,h,ht,g,_,j,U);if(!(g&i)){var At=Mt&&F.call(s,"__wrapped__"),xt=Pt&&F.call(h,"__wrapped__");if(At||xt){var me=At?s.value():s,fe=xt?h.value():h;return U||(U=new Jt),j(me,fe,g,_,U)}}return dt?(U||(U=new Jt),Hi(s,h,g,_,j,U)):!1}function Ii(s){if(!cr(s)||Vi(s))return!1;var h=fr(s)?Tt:st;return h.test(Lt(s))}function zi(s){return te(s)&&bn(s.length)&&!!J[Ce(s)]}function Ri(s){if(!$i(s))return Te(s);var h=[];for(var g in Object(s))F.call(s,g)&&g!="constructor"&&h.push(g);return h}function wn(s,h,g,_,j,U){var et=g&i,rt=s.length,ht=h.length;if(rt!=ht&&!(et&&ht>rt))return!1;var at=U.get(s);if(at&&U.get(h))return at==h;var Mt=-1,Pt=!0,dt=g&a?new Be:void 0;for(U.set(s,h),U.set(h,s);++Mt<rt;){var At=s[Mt],xt=h[Mt];if(_)var me=et?_(xt,At,Mt,h,s,U):_(At,xt,Mt,s,h,U);if(me!==void 0){if(me)continue;Pt=!1;break}if(dt){if(!It(h,function(fe,Ae){if(!pe(dt,Ae)&&(At===fe||j(At,fe,g,_,U)))return dt.push(Ae)})){Pt=!1;break}}else if(!(At===xt||j(At,xt,g,_,U))){Pt=!1;break}}return U.delete(s),U.delete(h),Pt}function Pi(s,h,g,_,j,U,et){switch(g){case m:if(s.byteLength!=h.byteLength||s.byteOffset!=h.byteOffset)return!1;s=s.buffer,h=h.buffer;case L:return!(s.byteLength!=h.byteLength||!U(new St(s),new St(h)));case c:case d:case D:return ur(+s,+h);case p:return s.name==h.name&&s.message==h.message;case k:case B:return s==h+"";case x:var rt=Fe;case T:var ht=_&i;if(rt||(rt=Vt),s.size!=h.size&&!ht)return!1;var at=et.get(s);if(at)return at==h;_|=a,et.set(s,h);var Mt=wn(rt(s),rt(h),_,j,U,et);return et.delete(s),Mt;case K:if(vn)return vn.call(s)==vn.call(h)}return!1}function Hi(s,h,g,_,j,U){var et=g&i,rt=Me(s),ht=rt.length,at=Me(h),Mt=at.length;if(ht!=Mt&&!et)return!1;for(var Pt=ht;Pt--;){var dt=rt[Pt];if(!(et?dt in h:F.call(h,dt)))return!1}var At=U.get(s);if(At&&U.get(h))return At==h;var xt=!0;U.set(s,h),U.set(h,s);for(var me=et;++Pt<ht;){dt=rt[Pt];var fe=s[dt],Ae=h[dt];if(_)var To=et?_(Ae,fe,dt,h,s,U):_(fe,Ae,dt,s,h,U);if(!(To===void 0?fe===Ae||j(fe,Ae,g,_,U):To)){xt=!1;break}me||(me=dt=="constructor")}if(xt&&!me){var dr=s.constructor,pr=h.constructor;dr!=pr&&"constructor"in s&&"constructor"in h&&!(typeof dr=="function"&&dr instanceof dr&&typeof pr=="function"&&pr instanceof pr)&&(xt=!1)}return U.delete(s),U.delete(h),xt}function Me(s){return yn(s,_n,Fi)}function jt(s,h){var g=s.__data__;return Bi(h)?g[typeof h=="string"?"string":"hash"]:g.map}function ue(s,h){var g=_e(s,h);return Ii(g)?g:void 0}function le(s){var h=F.call(s,Ot),g=s[Ot];try{s[Ot]=void 0;var _=!0}catch{}var j=Z.call(s);return _&&(h?s[Ot]=g:delete s[Ot]),j}var Fi=oe?function(s){return s==null?[]:(s=Object(s),ut(oe(s),function(h){return $t.call(s,h)}))}:Wi,Qt=Ce;(hn&&Qt(new hn(new ArrayBuffer(1)))!=m||Se&&Qt(new Se)!=x||dn&&Qt(dn.resolve())!=O||pn&&Qt(new pn)!=T||gn&&Qt(new gn)!=y)&&(Qt=function(s){var h=Ce(s),g=h==C?s.constructor:void 0,_=g?Lt(g):"";if(_)switch(_){case nr:return m;case se:return x;case fi:return O;case ci:return T;case hi:return y}return h});function Ui(s,h){return h=h??o,!!h&&(typeof s=="number"||ct.test(s))&&s>-1&&s%1==0&&s<h}function Bi(s){var h=typeof s;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?s!=="__proto__":s===null}function Vi(s){return!!Q&&Q in s}function $i(s){var h=s&&s.constructor,g=typeof h=="function"&&h.prototype||ae;return s===g}function sr(s){return Z.call(s)}function Lt(s){if(s!=null){try{return H.call(s)}catch{}try{return s+""}catch{}}return""}function ur(s,h){return s===h||s!==s&&h!==h}var lr=ar(function(){return arguments}())?ar:function(s){return te(s)&&F.call(s,"callee")&&!$t.call(s,"callee")},Ye=Array.isArray;function xn(s){return s!=null&&bn(s.length)&&!fr(s)}var We=cn||Gi;function Yi(s,h){return or(s,h)}function fr(s){if(!cr(s))return!1;var h=Ce(s);return h==v||h==b||h==f||h==A}function bn(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=o}function cr(s){var h=typeof s;return s!=null&&(h=="object"||h=="function")}function te(s){return s!=null&&typeof s=="object"}var hr=tt?Zt(tt):zi;function _n(s){return xn(s)?ki(s):Ri(s)}function Wi(){return[]}function Gi(){return!1}t.exports=Yi}),Mm=function(t,e){return e&&t(e)},Am="iot-app-kit-vis-size-provider .iot-app-kit-vis-size-provider-container{width:100%;height:100%}",Em=650,Dm=function(){function t(e){var n=this;kt(this,e),this.computedSize=null,this.rect=null,this.rectPollingHandler=null,this.setRect=function(){if(n.el&&n.el.isConnected){var r=pt.getRectScrollFixed(n.el),i=!je(r,n.rect);i&&(n.rect&&n.rect.density!==r.density&&pt.onResolutionChange(),n.rect=r)}}}return t.prototype.componentWillLoad=function(){var e=this;this.resizer=new pf(function(n){n.forEach(function(r){var i=r.contentRect,a=i.width,o=i.height;e.computedSize={width:a,height:o}})})},t.prototype.componentDidLoad=function(){this.setRect(),this.rectPollingHandler=window.setInterval(this.setRect,Em),this.resizer.observe(this.el.firstElementChild)},t.prototype.disconnectedCallback=function(){this.resizer.disconnect(),this.rectPollingHandler&&window.clearInterval(this.rectPollingHandler)},t.prototype.render=function(){var e=(this.size||this.computedSize)&&this.rect?Object.assign(Object.assign(Object.assign({},this.rect),this.computedSize),this.size):void 0;return w("div",{class:"iot-app-kit-vis-size-provider-container"},Mm(this.renderFunc,e))},Object.defineProperty(t.prototype,"el",{get:function(){return on(this)},enumerable:!1,configurable:!0}),t}();Dm.style=Am;var Om=function(t){var e=t.isRaw,n=t.points,r=t.selectedTimestamp,i=t.viewport;if(e)return r;var a=n[0].point&&n[0].point.x;return a==null?r:a<i.start.getTime()?i.start.getTime():a},Lm=function(t){var e=t.viewport,n=t.size,r=n.width,i=n.height,a=t.points,o=t.resolution,u=t.selectedTimestamp;if(a.length!==0){var l=o===0,f=Om({isRaw:l,points:a,selectedTimestamp:u,viewport:e}),c=e.end.getTime()-e.start.getTime(),d=(f-e.start.getTime())/c,p=r*d,v=Math.max.apply(Math,a.map(function(x){var D=x.point;return D?D.y:void 0}).filter(df)),b=Math.max(0,i*(1-(v-e.yMin)/(e.yMax-e.yMin)));return{x:p,y:b}}},km=function(t){var e=t.trendResults,n=t.dataStreams,r=t.displayedDate,i=r.getTime();return e.filter(function(a){var o=a.dataStreamId;return n.some(function(u){var l=u.id;return l===o})}).map(function(a){var o=n.find(function(u){var l=u.id;return l===a.dataStreamId});return o==null?null:{streamId:o.id,label:Xa(o.name,a.type),point:{x:i,y:jr(a,i)},type:"trend",color:a.color}}).filter(au)},Nm=".tooltip-portal{--tooltip-size:8px;--tooltip-line-width:2px;pointer-events:none;position:absolute}.tooltip-portal small{white-space:nowrap}.tooltip-portal .awsui{position:relative;z-index:20;min-width:90px}.tooltip-portal .tooltip-container{background:var(--awsui-color-white);position:relative;display:inline-block;min-width:90px;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-transition-property:left, top;transition-property:left, top;-webkit-transition-duration:120ms;transition-duration:120ms}.tooltip-portal .tooltip-line{position:relative;margin-left:calc(-1 * calc(var(--tooltip-line-width) / 2));width:var(--selection-width);background-color:var(--selection-color);opacity:var(--selection-opacity)}",Im=21,zm=71,Os=16,Rm=function(){function t(e){var n=this;kt(this,e),this.trendResults=[],this.showDataStreamColor=!0,this.showBlankTooltipRows=!1,this.sortPoints=!0,this.dataContainerListenersAttached=!1,this.setupDataContainerListeners=function(r){!r||n.dataContainerListenersAttached||(r.addEventListener("mousemove",n.setSelectedDate),r.addEventListener("mouseleave",n.hideTooltip),r.addEventListener("mousedown",n.hideTooltip,{capture:!0}),n.dataContainerListenersAttached=!0)},this.tooltipHeight=function(r){return r*Im+zm},this.visualizedDataStreams=function(){var r=n.dataStreams.filter(iu(n.supportString));return n.visualizesAlarms?r:r.filter(function(i){var a=i.streamType;return a!==zr.ALARM})},this.getDisplayedDate=function(r,i){var a=n.dataStreams.map(function(f){var c=f.resolution;return c}),o=a.length>0?Math.min.apply(Math,a):0;if(o===0)return i;var u=r[0]&&r[0].point?new Date(r[0].point.x):void 0,l=n.trendResults[0]?n.trendResults[0].startDate:void 0;return u||l||i},this.getTooltipPoints=function(r){var i=n.dataStreams.map(function(c){var d=c.resolution;return d}),a=i.length>0?Math.min.apply(Math,i):0,o=cu({viewport:n.viewport,dataStreams:n.visualizedDataStreams(),dataAlignment:n.dataAlignment,selectedDate:r,allowMultipleDates:a===0,maxDurationFromDate:n.maxDurationFromDate}).map(function(c){return Object.assign(Object.assign({},c),{type:"data"})}),u=km({dataStreams:n.dataStreams,displayedDate:n.getDisplayedDate(o,r),trendResults:n.trendResults}),l=Ja(o,u),f=n.sortPoints?l.sort(_f(function(c){return c.y})):n.dataStreams.map(function(c){var d=c.id;return l.find(function(p){return p.streamId===d})}).filter(au);return n.showBlankTooltipRows?f:f.filter(function(c){return c.point!=null})},this.positionPortal=function(){if(n.selectedDate){var r=n.getTooltipPoints(n.selectedDate),i=n.dataStreams.map(function(p){var v=p.resolution;return v}),a=i.length>0?Math.min.apply(Math,i):0,o=Lm({points:r,resolution:a,viewport:n.viewport,size:n.size,selectedTimestamp:n.selectedDate.getTime()});if(o){var u=o.x>=n.size.width/2,l=n.top!=null?n.top+"px":o.y-n.size.height+"px",f=n.baseChartRef.getBoundingClientRect(),c=f.x,d=f.y;n.portal.style.top=d+n.size.marginTop+"px",n.portal.style.left=c+n.size.marginLeft+"px",n.toolTipPositioning=Object.assign({top:l,right:u?-o.x+Os+"px":"initial",left:u?"initial":o.x+Os+"px",transform:u?"translateX(-100%)":"initial"},o)}}},this.setSelectedDate=function(r){var i=r.offsetX,a=r.buttons,o=a>0;if(!o&&i!=null){var u=n.viewport,l=u.start,f=u.end,c=n.size.width,d=i/c,p=f.getTime()-l.getTime(),v=l.getTime()+p*d;n.selectedDate=new Date(v),n.positionPortal();var b=n.el.querySelector("iot-app-kit-vis-tooltip-rows");b&&n.portal.appendChild(b)}else n.selectedDate=void 0},this.hideTooltip=function(){n.selectedDate=void 0}}return t.prototype.componentWillLoad=function(){this.portal||(this.portal=document.createElement("div"),this.portal.classList.add("tooltip-portal"),this.portal.style.zIndex="100",this.portal.style.position="fixed",this.portal.style.height="0",document.body.append(this.portal))},t.prototype.componentDidLoad=function(){this.setupDataContainerListeners(this.dataContainer)},t.prototype.disconnectedCallback=function(){this.dataContainer&&(this.dataContainer.removeEventListener("mousemove",this.setSelectedDate),this.dataContainer.removeEventListener("mouseleave",this.hideTooltip),this.dataContainer.removeEventListener("mousedown",this.hideTooltip)),this.portal.remove()},t.prototype.watchDataContainer=function(e){this.setupDataContainerListeners(e)},t.prototype.render=function(){var e=this.dataStreams.length>0?this.dataStreams[0].resolution:void 0;return e==null||this.selectedDate==null||this.toolTipPositioning==null?null:w("iot-app-kit-vis-tooltip-rows",{trendResults:this.trendResults,size:this.size,dataStreams:this.dataStreams,viewport:this.viewport,selectedDate:this.selectedDate,thresholds:this.thresholds,showDataStreamColor:this.showDataStreamColor,tooltipPoints:this.getTooltipPoints(this.selectedDate),toolTipPositioning:this.toolTipPositioning,aggregationType:this.aggregationType,precision:this.precision})},Object.defineProperty(t.prototype,"el",{get:function(){return on(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{dataContainer:["watchDataContainer"]}},enumerable:!1,configurable:!0}),t}();Rm.style=Nm;var Pm="iot-app-kit-vis-tooltip-row{font-size:var(--font-size-1);--bar-size:18px}iot-app-kit-vis-tooltip-rows .left-offset{padding-left:4px}iot-app-kit-vis-tooltip-row .clearfix::after{content:'';clear:both;display:table}iot-app-kit-vis-tooltip-row .bar{display:inline-block;float:left;width:var(--bar-size);height:20px;padding-top:8px}iot-app-kit-vis-tooltip-row .label{padding-left:var(--margin-small);color:var(--light-text);float:left}iot-app-kit-vis-tooltip-row .value{font-weight:bold;float:right;margin-left:15px}",Hm="#000",Fm=function(){function t(e){kt(this,e),this.valueColor=Hm}return t.prototype.render=function(){var e=this.pointType==="trend";return w("div",{class:"clearfix"},this.showDataStreamColor&&w("span",{class:"awsui-util-mr-xs"},w("svg",{class:"bar","data-testid":"tooltip-icon-"+this.pointType},w("path",{stroke:this.color,"stroke-dasharray":e?su:void 0,"stroke-linecap":uu,"stroke-width":lu,d:fu}))),w("span",{class:"label awsui-util-d-i","data-testid":"tooltip-row-label"},this.label),w("span",{class:"value awsui-util-d-i","data-testid":"current-value",style:{color:this.valueColor}},this.icon&&w("iot-app-kit-vis-chart-icon",{name:this.icon}),w(hu,{value:this.point&&this.point.y,precision:this.precision})),this.resolution!=null&&w("div",{class:"awsui-util-pb-s"},w("small",null,du(this.resolution,this.aggregationType))))},t}();Fm.style=Pm;var Um=200,mo="__lodash_hash_undefined__",Bm=1/0,Vm="[object Function]",$m="[object GeneratorFunction]",Ym=/[\\^$.*+?()[\]{}|]/g,Wm=/^\[object .+?Constructor\]$/,Gm=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,jm=typeof self=="object"&&self&&self.Object===Object&&self,yo=Gm||jm||Function("return this")();function Xm(t,e){var n=t?t.length:0;return!!n&&Zm(t,e,0)>-1}function qm(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function Km(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function Zm(t,e,n){if(e!==e)return Km(t,Jm,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Jm(t){return t!==t}function Qm(t,e){return t.has(e)}function t0(t,e){return t==null?void 0:t[e]}function e0(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Bl(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var n0=Array.prototype,r0=Function.prototype,Vl=Object.prototype,da=yo["__core-js_shared__"],Ls=function(){var t=/[^.]+$/.exec(da&&da.keys&&da.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$l=r0.toString,wo=Vl.hasOwnProperty,i0=Vl.toString,a0=RegExp("^"+$l.call(wo).replace(Ym,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o0=n0.splice,s0=xo(yo,"Map"),pa=xo(yo,"Set"),Wn=xo(Object,"create");function ze(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function u0(){this.__data__=Wn?Wn(null):{}}function l0(t){return this.has(t)&&delete this.__data__[t]}function f0(t){var e=this.__data__;if(Wn){var n=e[t];return n===mo?void 0:n}return wo.call(e,t)?e[t]:void 0}function c0(t){var e=this.__data__;return Wn?e[t]!==void 0:wo.call(e,t)}function h0(t,e){var n=this.__data__;return n[t]=Wn&&e===void 0?mo:e,this}ze.prototype.clear=u0;ze.prototype.delete=l0;ze.prototype.get=f0;ze.prototype.has=c0;ze.prototype.set=h0;function un(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d0(){this.__data__=[]}function p0(t){var e=this.__data__,n=ui(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():o0.call(e,n,1),!0}function g0(t){var e=this.__data__,n=ui(e,t);return n<0?void 0:e[n][1]}function v0(t){return ui(this.__data__,t)>-1}function m0(t,e){var n=this.__data__,r=ui(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}un.prototype.clear=d0;un.prototype.delete=p0;un.prototype.get=g0;un.prototype.has=v0;un.prototype.set=m0;function ln(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function y0(){this.__data__={hash:new ze,map:new(s0||un),string:new ze}}function w0(t){return li(this,t).delete(t)}function x0(t){return li(this,t).get(t)}function b0(t){return li(this,t).has(t)}function _0(t,e){return li(this,t).set(t,e),this}ln.prototype.clear=y0;ln.prototype.delete=w0;ln.prototype.get=x0;ln.prototype.has=b0;ln.prototype.set=_0;function Xr(t){var e=-1,n=t?t.length:0;for(this.__data__=new ln;++e<n;)this.add(t[e])}function T0(t){return this.__data__.set(t,mo),this}function S0(t){return this.__data__.has(t)}Xr.prototype.add=Xr.prototype.push=T0;Xr.prototype.has=S0;function ui(t,e){for(var n=t.length;n--;)if(k0(t[n][0],e))return n;return-1}function C0(t){if(!Yl(t)||D0(t))return!1;var e=N0(t)||e0(t)?a0:Wm;return e.test(O0(t))}function M0(t,e,n){var r=-1,i=Xm,a=t.length,o=!0,u=[],l=u;if(n)o=!1,i=qm;else if(a>=Um){var f=e?null:A0(t);if(f)return Bl(f);o=!1,i=Qm,l=new Xr}else l=e?[]:u;t:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue t;e&&l.push(d),u.push(c)}else i(l,d,n)||(l!==u&&l.push(d),u.push(c))}return u}var A0=pa&&1/Bl(new pa([,-0]))[1]==Bm?function(t){return new pa(t)}:I0;function li(t,e){var n=t.__data__;return E0(e)?n[typeof e=="string"?"string":"hash"]:n.map}function xo(t,e){var n=t0(t,e);return C0(n)?n:void 0}function E0(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function D0(t){return!!Ls&&Ls in t}function O0(t){if(t!=null){try{return $l.call(t)}catch{}try{return t+""}catch{}}return""}function L0(t){return t&&t.length?M0(t):[]}function k0(t,e){return t===e||t!==t&&e!==e}function N0(t){var e=Yl(t)?i0.call(t):"";return e==Vm||e==$m}function Yl(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function I0(){}var z0=L0,Sw=function(){function t(e){var n=this;kt(this,e),this.trendResults=[],this.showDataStreamColor=!0,this.rowsValueColorAndIcon=function(r,i,a){var o=i.y,u=n.dataStreams.find(function(f){return f.id===r});if(u!=null){var l=pu({date:a,value:o,thresholds:n.thresholds,dataStreams:[],dataStream:u});return l!=null?{color:l.color,icon:l.icon}:void 0}},this.getDisplayedDate=function(r){var i=n.dataStreams.map(function(l){var f=l.resolution;return f}),a=i.length>0?Math.min.apply(Math,i):0;if(a===0)return n.selectedDate;var o=r[0]&&r[0].point?new Date(r[0].point.x):void 0,u=n.trendResults[0]?n.trendResults[0].startDate:void 0;return o||u||n.selectedDate}}return t.prototype.render=function(){var e=this,n=this.dataStreams.map(function(d){var p=d.resolution;return p}),r=n.length>0?Math.min.apply(Math,n):0,i=z0(n).length>1,a=this.getDisplayedDate(this.tooltipPoints);if(this.tooltipPoints.length===0||!this.toolTipPositioning)return null;var o=this.toolTipPositioning,u=o.top,l=o.left,f=o.right,c=o.transform;return w("div",{class:"awsui"},w("div",{class:"tooltip-line",style:{left:this.toolTipPositioning.x+"px",height:this.size.height+"px"}}),w("div",{class:"tooltip-container",style:{top:u,left:l,right:f,transform:c}},w("div",{class:"awsui-util-shadow awsui-util-p-s"},w("small",{class:{"awsui-util-d-b":!0,"left-offset":!this.showDataStreamColor}},vf(a,r,this.viewport)),!i&&w("small",{class:{"awsui-util-d-b":!0,"awsui-util-mb-s":!0,"left-offset":!this.showDataStreamColor}},du(r,this.aggregationType)),this.tooltipPoints.map(function(d){var p=d.streamId,v=e.dataStreams.find(function(O){var A=O.id;return A===p});if(!v)return console.warn("No data stream info associated with id "+p),null;var b=d.point&&e.rowsValueColorAndIcon(p,d.point,a)||{},x=b.color,D=x===void 0?void 0:x,N=b.icon,C=N===void 0?void 0:N;return w("iot-app-kit-vis-tooltip-row",{key:d.streamId+"-"+d.type,showDataStreamColor:e.showDataStreamColor,label:d.label||v.name,aggregationType:v.aggregationType,resolution:i?v.resolution:void 0,color:d.color||v.color||"black",point:d.point,pointType:d.type,valueColor:D,icon:C,precision:e.precision})}))))},t}(),R0="iot-app-kit-vis-webgl-axis{font-size:var(--font-size-0)}iot-app-kit-vis-webgl-axis .axis{font-family:var(--primary-font-family);shape-rendering:crispEdges;position:absolute;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}iot-app-kit-vis-webgl-axis .axis path{display:none}iot-app-kit-vis-webgl-axis .axis .tick{color:var(--polaris-light-gray)}iot-app-kit-vis-webgl-axis line.x-axis-separator{color:var(--primary-light);stroke:var(--primary-light);stroke-width:1px}iot-app-kit-vis-webgl-axis .axis .tick line{color:var(--primary-light)}iot-app-kit-vis-webgl-axis .axis .tick text{font-size:var(--font-size-0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iot-app-kit-vis-webgl-axis .x-axis .tick:last-child text{font-weight:var(--font-weight-bold)}",P0=function(){function t(e){kt(this,e)}return t.prototype.render=function(){var e=this.size,n=e.width,r=e.height,i=e.marginLeft,a=e.marginRight,o=e.marginTop,u=e.marginBottom;return w("svg",{class:"axis",style:{width:n+i+a+"px",height:r+u+o+"px"}})},t}();P0.style=R0;var Wl="Expected a function",ks=0/0,H0="[object Symbol]",F0=/^\s+|\s+$/g,U0=/^[-+]0x[0-9a-f]+$/i,B0=/^0b[01]+$/i,V0=/^0o[0-7]+$/i,$0=parseInt,Y0=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,W0=typeof self=="object"&&self&&self.Object===Object&&self,G0=Y0||W0||Function("return this")(),j0=Object.prototype,X0=j0.toString,q0=Math.max,K0=Math.min,ga=function(){return G0.Date.now()};function Z0(t,e,n){var r,i,a,o,u,l,f=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(Wl);e=Ns(e)||0,qr(n)&&(c=!!n.leading,d="maxWait"in n,a=d?q0(Ns(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function v(T){var B=r,K=i;return r=i=void 0,f=T,o=t.apply(K,B),o}function b(T){return f=T,u=setTimeout(N,e),c?v(T):o}function x(T){var B=T-l,K=T-f,nt=e-B;return d?K0(nt,a-K):nt}function D(T){var B=T-l,K=T-f;return l===void 0||B>=e||B<0||d&&K>=a}function N(){var T=ga();if(D(T))return C(T);u=setTimeout(N,x(T))}function C(T){return u=void 0,p&&r?v(T):(r=i=void 0,o)}function O(){u!==void 0&&clearTimeout(u),f=0,r=l=i=u=void 0}function A(){return u===void 0?o:C(ga())}function k(){var T=ga(),B=D(T);if(r=arguments,i=this,l=T,B){if(u===void 0)return b(l);if(d)return u=setTimeout(N,e),v(l)}return u===void 0&&(u=setTimeout(N,e)),o}return k.cancel=O,k.flush=A,k}function J0(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Wl);return qr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Z0(t,e,{leading:r,maxWait:e,trailing:i})}function qr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Q0(t){return!!t&&typeof t=="object"}function ty(t){return typeof t=="symbol"||Q0(t)&&X0.call(t)==H0}function Ns(t){if(typeof t=="number")return t;if(ty(t))return ks;if(qr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(F0,"");var n=B0.test(t);return n||V0.test(t)?$0(t.slice(2),n?2:8):U0.test(t)?ks:+t}var Gl=J0,ey=ou(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",o="[object Array]",u="[object Boolean]",l="[object Date]",f="[object Error]",c="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",b="[object Object]",x="[object Promise]",D="[object RegExp]",N="[object Set]",C="[object String]",O="[object Symbol]",A="[object WeakMap]",k="[object ArrayBuffer]",T="[object DataView]",B="[object Float32Array]",K="[object Float64Array]",nt="[object Int8Array]",y="[object Int16Array]",L="[object Int32Array]",m="[object Uint8Array]",M="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,V=/\w*$/,X=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,W={};W[a]=W[o]=W[k]=W[T]=W[u]=W[l]=W[B]=W[K]=W[nt]=W[y]=W[L]=W[p]=W[v]=W[b]=W[D]=W[N]=W[C]=W[O]=W[m]=W[M]=W[I]=W[R]=!0,W[f]=W[c]=W[A]=!1;var bt=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,mt=typeof self=="object"&&self&&self.Object===Object&&self,st=bt||mt||Function("return this")(),ct=e&&!e.nodeType&&e,J=ct&&!0&&t&&!t.nodeType&&t,Ht=J&&J.exports===ct;function Bt(s,h){return s.set(h[0],h[1]),s}function _t(s,h){return s.add(h),s}function z(s,h){for(var g=-1,_=s?s.length:0;++g<_&&h(s[g],g,s)!==!1;);return s}function G(s,h){for(var g=-1,_=h.length,j=s.length;++g<_;)s[j+g]=h[g];return s}function q(s,h,g,_){var j=-1,U=s?s.length:0;for(_&&U&&(g=s[++j]);++j<U;)g=h(g,s[j],j,s);return g}function E(s,h){for(var g=-1,_=Array(s);++g<s;)_[g]=h(g);return _}function lt(s,h){return s==null?void 0:s[h]}function tt(s){var h=!1;if(s!=null&&typeof s.toString!="function")try{h=!!(s+"")}catch{}return h}function ut(s){var h=-1,g=Array(s.size);return s.forEach(function(_,j){g[++h]=[j,_]}),g}function ft(s,h){return function(g){return s(h(g))}}function It(s){var h=-1,g=Array(s.size);return s.forEach(function(_){g[++h]=_}),g}var Kt=Array.prototype,Zt=Function.prototype,pe=Object.prototype,_e=st["__core-js_shared__"],Fe=function(){var s=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Ue=Zt.toString,Vt=pe.hasOwnProperty,ge=pe.toString,fn=RegExp("^"+Ue.call(Vt).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=Ht?st.Buffer:void 0,S=st.Symbol,H=st.Uint8Array,F=ft(Object.getPrototypeOf,Object),Q=Object.create,Z=pe.propertyIsEnumerable,Tt=Kt.splice,zt=Object.getOwnPropertySymbols,yt=ae?ae.isBuffer:void 0,St=ft(Object.keys,Object),$t=jt(st,"DataView"),Gt=jt(st,"Map"),Ot=jt(st,"Promise"),oe=jt(st,"Set"),cn=jt(st,"WeakMap"),Te=jt(Object,"create"),hn=Lt($t),Se=Lt(Gt),dn=Lt(Ot),pn=Lt(oe),gn=Lt(cn),ve=S?S.prototype:void 0,nr=ve?ve.valueOf:void 0;function se(s){var h=-1,g=s?s.length:0;for(this.clear();++h<g;){var _=s[h];this.set(_[0],_[1])}}function fi(){this.__data__=Te?Te(null):{}}function ci(s){return this.has(s)&&delete this.__data__[s]}function hi(s){var h=this.__data__;if(Te){var g=h[s];return g===r?void 0:g}return Vt.call(h,s)?h[s]:void 0}function rr(s){var h=this.__data__;return Te?h[s]!==void 0:Vt.call(h,s)}function vn(s,h){var g=this.__data__;return g[s]=Te&&h===void 0?r:h,this}se.prototype.clear=fi,se.prototype.delete=ci,se.prototype.get=hi,se.prototype.has=rr,se.prototype.set=vn;function wt(s){var h=-1,g=s?s.length:0;for(this.clear();++h<g;){var _=s[h];this.set(_[0],_[1])}}function di(){this.__data__=[]}function pi(s){var h=this.__data__,g=Ve(h,s);if(g<0)return!1;var _=h.length-1;return g==_?h.pop():Tt.call(h,g,1),!0}function gi(s){var h=this.__data__,g=Ve(h,s);return g<0?void 0:h[g][1]}function vi(s){return Ve(this.__data__,s)>-1}function mi(s,h){var g=this.__data__,_=Ve(g,s);return _<0?g.push([s,h]):g[_][1]=h,this}wt.prototype.clear=di,wt.prototype.delete=pi,wt.prototype.get=gi,wt.prototype.has=vi,wt.prototype.set=mi;function Ct(s){var h=-1,g=s?s.length:0;for(this.clear();++h<g;){var _=s[h];this.set(_[0],_[1])}}function yi(){this.__data__={hash:new se,map:new(Gt||wt),string:new se}}function wi(s){return Me(this,s).delete(s)}function xi(s){return Me(this,s).get(s)}function bi(s){return Me(this,s).has(s)}function _i(s,h){return Me(this,s).set(s,h),this}Ct.prototype.clear=yi,Ct.prototype.delete=wi,Ct.prototype.get=xi,Ct.prototype.has=bi,Ct.prototype.set=_i;function Rt(s){this.__data__=new wt(s)}function Ti(){this.__data__=new wt}function Si(s){return this.__data__.delete(s)}function Ci(s){return this.__data__.get(s)}function Mi(s){return this.__data__.has(s)}function Ai(s,h){var g=this.__data__;if(g instanceof wt){var _=g.__data__;if(!Gt||_.length<n-1)return _.push([s,h]),this;g=this.__data__=new Ct(_)}return g.set(s,h),this}Rt.prototype.clear=Ti,Rt.prototype.delete=Si,Rt.prototype.get=Ci,Rt.prototype.has=Mi,Rt.prototype.set=Ai;function Be(s,h){var g=xn(s)||Ye(s)?E(s.length,String):[],_=g.length,j=!!_;for(var U in s)(h||Vt.call(s,U))&&!(j&&(U=="length"||Bi(U,_)))&&g.push(U);return g}function ir(s,h,g){var _=s[h];(!(Vt.call(s,h)&&lr(_,g))||g===void 0&&!(h in s))&&(s[h]=g)}function Ve(s,h){for(var g=s.length;g--;)if(lr(s[g][0],h))return g;return-1}function Jt(s,h){return s&&wn(h,_n(h),s)}function mn(s,h,g,_,j,U,et){var rt;if(_&&(rt=U?_(s,j,U,et):_(s)),rt!==void 0)return rt;if(!te(s))return s;var ht=xn(s);if(ht){if(rt=Fi(s),!h)return Ri(s,rt)}else{var at=le(s),Mt=at==c||at==d;if(fr(s))return $e(s,h);if(at==b||at==a||Mt&&!U){if(tt(s))return U?s:{};if(rt=Qt(Mt?{}:s),!h)return Pi(s,Jt(rt,s))}else{if(!W[at])return U?s:{};rt=Ui(s,at,mn,h)}}et||(et=new Rt);var Pt=et.get(s);if(Pt)return Pt;if(et.set(s,rt),!ht)var dt=g?Hi(s):_n(s);return z(dt||s,function(At,xt){dt&&(xt=At,At=s[xt]),ir(rt,xt,mn(At,h,g,_,xt,s,et))}),rt}function Ei(s){return te(s)?Q(s):{}}function Di(s,h,g){var _=h(s);return xn(s)?_:G(_,g(s))}function Oi(s){return ge.call(s)}function Li(s){if(!te(s)||$i(s))return!1;var h=bn(s)||tt(s)?fn:X;return h.test(Lt(s))}function ki(s){if(!sr(s))return St(s);var h=[];for(var g in Object(s))Vt.call(s,g)&&g!="constructor"&&h.push(g);return h}function $e(s,h){if(h)return s.slice();var g=new s.constructor(s.length);return s.copy(g),g}function yn(s){var h=new s.constructor(s.byteLength);return new H(h).set(new H(s)),h}function Ce(s,h){var g=h?yn(s.buffer):s.buffer;return new s.constructor(g,s.byteOffset,s.byteLength)}function ar(s,h,g){var _=h?g(ut(s),!0):ut(s);return q(_,Bt,new s.constructor)}function or(s){var h=new s.constructor(s.source,V.exec(s));return h.lastIndex=s.lastIndex,h}function Ni(s,h,g){var _=h?g(It(s),!0):It(s);return q(_,_t,new s.constructor)}function Ii(s){return nr?Object(nr.call(s)):{}}function zi(s,h){var g=h?yn(s.buffer):s.buffer;return new s.constructor(g,s.byteOffset,s.length)}function Ri(s,h){var g=-1,_=s.length;for(h||(h=Array(_));++g<_;)h[g]=s[g];return h}function wn(s,h,g,_){g||(g={});for(var j=-1,U=h.length;++j<U;){var et=h[j],rt=_?_(g[et],s[et],et,g,s):void 0;ir(g,et,rt===void 0?s[et]:rt)}return g}function Pi(s,h){return wn(s,ue(s),h)}function Hi(s){return Di(s,_n,ue)}function Me(s,h){var g=s.__data__;return Vi(h)?g[typeof h=="string"?"string":"hash"]:g.map}function jt(s,h){var g=lt(s,h);return Li(g)?g:void 0}var ue=zt?ft(zt,Object):Wi,le=Oi;($t&&le(new $t(new ArrayBuffer(1)))!=T||Gt&&le(new Gt)!=p||Ot&&le(Ot.resolve())!=x||oe&&le(new oe)!=N||cn&&le(new cn)!=A)&&(le=function(s){var h=ge.call(s),g=h==b?s.constructor:void 0,_=g?Lt(g):void 0;if(_)switch(_){case hn:return T;case Se:return p;case dn:return x;case pn:return N;case gn:return A}return h});function Fi(s){var h=s.length,g=s.constructor(h);return h&&typeof s[0]=="string"&&Vt.call(s,"index")&&(g.index=s.index,g.input=s.input),g}function Qt(s){return typeof s.constructor=="function"&&!sr(s)?Ei(F(s)):{}}function Ui(s,h,g,_){var j=s.constructor;switch(h){case k:return yn(s);case u:case l:return new j(+s);case T:return Ce(s,_);case B:case K:case nt:case y:case L:case m:case M:case I:case R:return zi(s,_);case p:return ar(s,_,g);case v:case C:return new j(s);case D:return or(s);case N:return Ni(s,_,g);case O:return Ii(s)}}function Bi(s,h){return h=h??i,!!h&&(typeof s=="number"||Y.test(s))&&s>-1&&s%1==0&&s<h}function Vi(s){var h=typeof s;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?s!=="__proto__":s===null}function $i(s){return!!Fe&&Fe in s}function sr(s){var h=s&&s.constructor,g=typeof h=="function"&&h.prototype||pe;return s===g}function Lt(s){if(s!=null){try{return Ue.call(s)}catch{}try{return s+""}catch{}}return""}function ur(s){return mn(s,!0,!0)}function lr(s,h){return s===h||s!==s&&h!==h}function Ye(s){return Yi(s)&&Vt.call(s,"callee")&&(!Z.call(s,"callee")||ge.call(s)==a)}var xn=Array.isArray;function We(s){return s!=null&&cr(s.length)&&!bn(s)}function Yi(s){return hr(s)&&We(s)}var fr=yt||Gi;function bn(s){var h=te(s)?ge.call(s):"";return h==c||h==d}function cr(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=i}function te(s){var h=typeof s;return!!s&&(h=="object"||h=="function")}function hr(s){return!!s&&typeof s=="object"}function _n(s){return We(s)?Be(s):ki(s)}function Wi(){return[]}function Gi(){return!1}t.exports=ur}),ny=60,ry=function(t){var e=t.isLoading;return w("div",{style:{zIndex:"11",position:"absolute",width:"100%",height:"100%",display:e?"flex":"none",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},e&&w("iot-app-kit-vis-loading-spinner",{size:ny}))},iy=function(t){var e=t.hasError,n=t.size,r=n.marginLeft,i=n.width;return e?w("div",{style:{position:"absolute",width:i+"px"}},w("div",{class:"awsui-util-mt-s",style:{left:r+"px",position:"relative",width:"100%",display:"flex",flexDirection:"row-reverse"}},w("iot-app-kit-vis-error-badge",null,"Stopped"))):w("div",{"data-test-tag":"error-badge-place-holder",style:{display:"none"}})},Is="chart-legend-container",ay=function(t,e){var n=t.legendHeight,r=t.config,i=t.size,a=i.height,o=i.marginRight,u=i.marginLeft,l=i.marginBottom,f=i.marginTop,c=i.width,d={position:"relative",overflowY:"scroll",msOverflowStyle:"none"};return r.position===Rr.BOTTOM?w("div",{class:Is,style:Object.assign(Object.assign({},d),{top:a+f+l+"px",marginLeft:u+"px",marginRight:o+"px",height:n+"px",width:c+"px"})},e):w("div",{class:Is,style:Object.assign(Object.assign({},d),{top:f+"px",marginLeft:u+c+o+"px",width:r.width+"px",marginRight:"0",height:a+"px"})},e)},oy=function(t,e){var n=t.size,r=n.width,i=n.height,a=n.marginLeft,o=n.marginTop;return w("div",{style:{width:r+"px",height:i+"px",marginLeft:a+"px",marginTop:o+"px"},class:"data-container"},e)},Le=10,Kr=1.5,Ln=function(t){var e=t.annotation,n=t.width,r=t.viewport,i=r.start,a=r.end;return Math.floor(n/(a.getTime()-i.getTime())*(e.value.getTime()-i.getTime()))},sy="text.x-text",jl="g.x-annotation",uy="line.x-line",ly=function(t){var e=t.container,n=t.xAnnotations,r=t.viewport,i=t.resolution,a=t.size,o=a.width,u=a.height,l=ot(e).selectAll(jl).data(n),f=function(p){return-Ln({annotation:p,width:o,viewport:r})},c=5,d=l.enter().append("g").attr("transform","translate(0,0)").attr("class","x-annotation");d.append("line").attr("class","x-line").attr("font-size",Le).attr("x1",function(p){return Ln({annotation:p,width:o,viewport:r})}).attr("x2",function(p){return Ln({annotation:p,width:o,viewport:r})}).attr("y1",0).attr("y2",u).style("stroke",gt).style("stroke-width",Kr),d.append("text").text(function(p){return Co({annotation:p,resolution:i,viewport:r})}).attr("display",Mo).attr("font-size",Le).attr("class","x-text").attr("y",f).attr("x",0).style("pointer-events","none").style("user-select","none").style("transform","rotate(90deg) translateY("+-c+"px)").style("fill",gt),l.select(uy).attr("x1",function(p){return Ln({annotation:p,width:o,viewport:r})}).attr("x2",function(p){return Ln({annotation:p,width:o,viewport:r})}).attr("y2",u).attr("stroke",gt),l.select(sy).attr("display",Mo).text(function(p){return Co({annotation:p,resolution:i,viewport:r})}).attr("y",f).style("fill",gt),l.exit().remove()},fy=function(t){var e=t.container;ot(e).selectAll(jl).remove()},Zr=function(t){var e=t.annotation,n=t.height,r=t.viewport,i=r.yMax,a=r.yMin;return n-(e.value-a)*n/(i-a)},Ze=5,Xl=3,Jr=5,zs=1,ql=-11,cy=45,hy=18,dy=20,Mr=-6,Rs=40,Ps=13,Hs=10,Fs=1,Us=2,Kl="text.y-text",bo="text.y-value-text",Gn="g.y-annotation",jn="g.y-annotation-editable",Zl="line.y-line",Jl="rect.y-annotation",py="line.y-handle-one",gy="line.y-handle-two",Ql="g.y-elements-group",vy=function(t){var e=t.container,n=t.yAnnotations,r=t.viewport,i=t.resolution,a=t.size,o=a.width,u=a.height,l=function(O){return Zr({annotation:O,height:u,viewport:r})},f=function(O){return De(O)==="inline"?cy:hy},c=function(O){return De(O)==="inline"?o+Rs+Us:o+Ps+Us},d=function(O){return De(O)==="inline"?o+Rs:o+Ps},p=function(O){return l(O)+ql},v=function(O){return O.value<-9999?Le-1:Le},b=function(O){return"translate(0,"+l(O)+")"},x=ot(e).selectAll(jn).data(n.filter(function(O){return O.isEditable})),D=x.enter().append("g").attr("transform","translate(0,0)").attr("class","y-annotation-editable"),N=D.append("rect").attr("class","y-annotation").attr("width",f).attr("height",dy).attr("x",o+zs).attr("y",p).style("pointer-events","auto").style("stroke",gt).style("stroke-width",Kr).style("fill","white"),C=D.append("g").attr("transform",b).attr("class","y-elements-group");return C.append("line").attr("class","y-line").attr("x1",0).attr("x2",o).attr("y1",0).attr("y2",0).style("stroke",gt).style("stroke-width",Kr),C.append("text").attr("display",De).attr("class","y-value-text").attr("x",o+Jr).attr("text-anchor","start").attr("y",Xl).text(function(O){return Hn({annotation:O,resolution:i,viewport:r,formatText:!0})}).style("font-size",v).style("user-select","none").style("pointer-events","none").style("fill",gt),C.append("text").attr("display",Nr).attr("class","y-text").attr("x",o-Ze).attr("text-anchor","end").attr("y",-Ze).text(Ir).style("font-size",Le).style("user-select","none").style("pointer-events","none").style("fill",gt),C.append("line").attr("class","y-handle-one").attr("x1",d).attr("x2",d).attr("y1",Mr).attr("y2",Mr+Hs).style("stroke","gray").style("stroke-width",Fs),C.append("line").attr("class","y-handle-two").attr("x1",c).attr("x2",c).attr("y1",Mr).attr("y2",Mr+Hs).style("stroke","gray").style("stroke-width",Fs),x.select(Ql).attr("transform",b),x.select(bo).attr("display",De).attr("x",o+Jr).text(function(O){return Hn({annotation:O,resolution:i,viewport:r,formatText:!0})}).style("fill",gt).style("font-size",v),x.select(Kl).attr("display",Nr).attr("x",o-Ze).text(Ir).style("fill",gt),x.select(Zl).attr("x2",o).style("stroke",gt),x.select(py).attr("x1",d).attr("x2",d),x.select(gy).attr("x1",c).attr("x2",c),x.select(Jl).attr("y",p).attr("x",o+zs).attr("width",f).style("stroke",gt),x.exit().remove(),N},my=function(t){var e=t.container,n=t.yAnnotations,r=t.viewport,i=t.resolution,a=t.size,o=a.width,u=a.height,l=function(p){return Zr({annotation:p,height:u,viewport:r})},f=function(p){return"translate(0,"+l(p)+")"},c=ot(e).selectAll(Gn).data(n.filter(function(p){return!p.isEditable})),d=c.enter().append("g").attr("transform",f).attr("class","y-annotation");d.append("line").attr("class","y-line").attr("x1",0).attr("x2",o).attr("y1",0).attr("y2",0).style("stroke",gt).style("stroke-width",Kr),d.append("text").attr("display",De).attr("font-size",Le).attr("class","y-value-text").attr("x",o+Jr).attr("text-anchor","start").attr("y",Xl).text(function(p){return Hn({annotation:p,resolution:i,viewport:r,formatText:!0})}).style("user-select","none").style("pointer-events","none").style("fill",gt),d.append("text").attr("display",Nr).attr("font-size",Le).attr("class","y-text").attr("x",o-Ze).attr("text-anchor","end").attr("y",-Ze).text(Ir).style("user-select","none").style("pointer-events","none").style("fill",gt),c.attr("transform",f),c.select(bo).attr("display",De).attr("x",o+Jr).text(function(p){return Hn({annotation:p,resolution:i,viewport:r,formatText:!0})}).style("fill",gt),c.select(Kl).attr("display",Nr).attr("x",o-Ze).text(Ir).style("fill",gt),c.select(Zl).attr("x2",o).style("stroke",gt),c.exit().remove()},yy=function(t){var e=t.container;ot(e).selectAll(Gn).remove(),ot(e).selectAll(jn).remove()},Bs=function(t){return function(e){var n=e.value;return typeof n=="number"?t.yMin<=n&&t.yMax>=n:t.start<=n&&t.end>=n}},Vs,wy=function(t){var e=t.container,n=t.resolution,r=t.annotations,i=t.viewport,a=t.size,o=t.onUpdate,u=t.activeViewPort,l=t.emitUpdatedWidgetConfiguration,f=t.draggable,c=t.startStopDragging,d=t.inDragState;if(typeof r=="object"&&typeof r.show=="boolean"&&!r.show){fy({container:e}),yy({container:e});return}var p=r.x==null?[]:r.x.filter(Bs(i)),v=r.y==null?[]:r.y.filter(Bs(i));ly({container:e,xAnnotations:p,viewport:i,resolution:n,size:a}),my({container:e,yAnnotations:v,viewport:i,resolution:n,size:a}),d()||(Vs=vy({container:e,yAnnotations:v,viewport:i,resolution:n,size:a}),f({container:e,size:a,onUpdate:o,activeViewPort:u,emitUpdatedWidgetConfiguration:l,startStopDragging:c,resolution:n,dragHandle:Vs}))},xy=function(t){var e=t.trendResult,n=t.size,r=n.width,i=n.height,a=t.viewport,o=a.start,u=a.end,l=a.yMin,f=a.yMax,c=Math.round(i-(jr(e,o.getTime())-l)*i/(f-l)),d=Math.round(i-(jr(e,u.getTime())-l)*i/(f-l));return"M 0 "+c+" L "+r+" "+d},by=function(t){var e=t.container,n=t.viewport,r=t.size,i=r.width,a=r.height,o=t.dataStreams,u=t.trendResults,l=[];u.forEach(function(c){var d=o.find(function(p){return p.id===c.dataStreamId});if(d)switch(c.type){case Xn.LINEAR:l.push({color:c.color||d.color||"black",command:xy({trendResult:c,size:{width:i,height:a},viewport:n})});break;default:console.error("Unable to render trend line for trend type '"+c.type+"'.")}});var f=ot(e).selectAll("path.linear-regression").data(l);f.enter().append("path").attr("class","linear-regression").attr("stroke",function(c){return c.color}).attr("stroke-dasharray",gm).attr("stroke-linecap","round").attr("stroke-width",pm).attr("d",function(c){return c.command}),f.attr("stroke",function(c){return c.color}).attr("d",function(c){return c.command}),f.exit().remove()},va=Array.prototype.slice;function _y(t){return t}var ma=1,ya=2,qa=3,Pn=4,$s=1e-6;function Ty(t){return"translate("+(t+.5)+",0)"}function Sy(t){return"translate(0,"+(t+.5)+")"}function Cy(t){return function(e){return+t(e)}}function My(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function Ay(){return!this.__axis}function tf(t,e){var n=[],r=null,i=null,a=6,o=6,u=3,l=t===ma||t===Pn?-1:1,f=t===Pn||t===ya?"x":"y",c=t===ma||t===qa?Ty:Sy;function d(p){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),b=i??(e.tickFormat?e.tickFormat.apply(e,n):_y),x=Math.max(a,0)+u,D=e.range(),N=+D[0]+.5,C=+D[D.length-1]+.5,O=(e.bandwidth?My:Cy)(e.copy()),A=p.selection?p.selection():p,k=A.selectAll(".domain").data([null]),T=A.selectAll(".tick").data(v,e).order(),B=T.exit(),K=T.enter().append("g").attr("class","tick"),nt=T.select("line"),y=T.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(K),nt=nt.merge(K.append("line").attr("stroke","currentColor").attr(f+"2",l*a)),y=y.merge(K.append("text").attr("fill","currentColor").attr(f,l*x).attr("dy",t===ma?"0em":t===qa?"0.71em":"0.32em")),p!==A&&(k=k.transition(p),T=T.transition(p),nt=nt.transition(p),y=y.transition(p),B=B.transition(p).attr("opacity",$s).attr("transform",function(L){return isFinite(L=O(L))?c(L):this.getAttribute("transform")}),K.attr("opacity",$s).attr("transform",function(L){var m=this.parentNode.__axis;return c(m&&isFinite(m=m(L))?m:O(L))})),B.remove(),k.attr("d",t===Pn||t==ya?o?"M"+l*o+","+N+"H0.5V"+C+"H"+l*o:"M0.5,"+N+"V"+C:o?"M"+N+","+l*o+"V0.5H"+C+"V"+l*o:"M"+N+",0.5H"+C),T.attr("opacity",1).attr("transform",function(L){return c(O(L))}),nt.attr(f+"2",l*a),y.attr(f,l*x).text(b),A.filter(Ay).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ya?"start":t===Pn?"end":"middle"),A.each(function(){this.__axis=O})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=va.call(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:va.call(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:va.call(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(a=o=+p,d):a},d.tickSizeInner=function(p){return arguments.length?(a=+p,d):a},d.tickSizeOuter=function(p){return arguments.length?(o=+p,d):o},d.tickPadding=function(p){return arguments.length?(u=+p,d):u},d}function Ey(t){return tf(qa,t)}function Dy(t){return tf(Pn,t)}function Oy(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ly(t){return t=Qr(Math.abs(t)),t?t[1]:NaN}function ky(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ny(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Iy=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ka(t){if(!(e=Iy.exec(t)))throw new Error("invalid format: "+t);var e;return new _o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ka.prototype=_o.prototype;function _o(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zy(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ef;function Ry(t,e){var n=Qr(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ef=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qr(t,Math.max(0,e+a-1))[0]}function Ys(t,e){var n=Qr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Ws={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Oy,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ys(t*100,e)},r:Ys,s:Ry,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Gs(t){return t}var js=Array.prototype.map,Xs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Py(t){var e=t.grouping===void 0||t.thousands===void 0?Gs:ky(js.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Gs:Ny(js.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function f(d){d=Ka(d);var p=d.fill,v=d.align,b=d.sign,x=d.symbol,D=d.zero,N=d.width,C=d.comma,O=d.precision,A=d.trim,k=d.type;k==="n"?(C=!0,k="g"):Ws[k]||(O===void 0&&(O=12),A=!0,k="g"),(D||p==="0"&&v==="=")&&(D=!0,p="0",v="=");var T=x==="$"?n:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",B=x==="$"?r:/[%p]/.test(k)?o:"",K=Ws[k],nt=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function y(L){var m=T,M=B,I,R,P;if(k==="c")M=K(L)+M,L="";else{L=+L;var V=L<0||1/L<0;if(L=isNaN(L)?l:K(Math.abs(L),O),A&&(L=zy(L)),V&&+L==0&&b!=="+"&&(V=!1),m=(V?b==="("?b:u:b==="-"||b==="("?"":b)+m,M=(k==="s"?Xs[8+ef/3]:"")+M+(V&&b==="("?")":""),nt){for(I=-1,R=L.length;++I<R;)if(P=L.charCodeAt(I),48>P||P>57){M=(P===46?i+L.slice(I+1):L.slice(I))+M,L=L.slice(0,I);break}}}C&&!D&&(L=e(L,1/0));var X=m.length+L.length+M.length,Y=X<N?new Array(N-X+1).join(p):"";switch(C&&D&&(L=e(Y+L,Y.length?N-M.length:1/0),Y=""),v){case"<":L=m+L+M+Y;break;case"=":L=m+Y+L+M;break;case"^":L=Y.slice(0,X=Y.length>>1)+m+L+M+Y.slice(X);break;default:L=Y+m+L+M;break}return a(L)}return y.toString=function(){return d+""},y}function c(d,p){var v=f((d=Ka(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(Ly(p)/3)))*3,x=Math.pow(10,-b),D=Xs[8+b/3];return function(N){return v(x*N)+D}}return{format:f,formatPrefix:c}}var wa,nf;Hy({thousands:",",grouping:[3],currency:["$",""]});function Hy(t){return wa=Py(t),nf=wa.format,wa}var Fy=100,Uy=30,qs=2,By=function(t,e){var n=t.width,r=t.height,i=e.yScaleType,a=Math.max(Math.floor(n/Fy),qs),o=Math.max(Math.floor(r/(Uy+(i===xa.Log?60:0))),qs);return{xTickCount:a,yTickCount:o}},Vy=0,rf=10,$y={showX:!0,showY:!0},af=function(t,e){var n=Er().domain([e.start.getTime(),e.end.getTime()]).range([0,t.width]),r=lo().domain([e.yMin,e.yMax]).range([t.height,0]);return{xScale:n,yScale:r}},of=function(t){return By({width:t.width,height:t.height},{xScaleSide:"bottom",yScaleSide:"left",yScaleType:xa.Linear,xScaleType:xa.Linear})},Yy=function(t,e){var n=of(t).xTickCount,r=af(t,e).xScale;return Ey(r).ticks(n).tickPadding(rf).tickSize(Vy)},Wy=function(t,e){var n=of(t).yTickCount,r=af(t,e).yScale;return Dy(r).ticks(n).tickFormat(nf(".2s")).tickSize(-t.width).tickPadding(rf)},Ks=function(t,e){return function(n){return n.attr("transform","translate("+t.marginLeft+", "+(t.marginTop+t.height)+")").call(Yy(t,e))}},Zs=function(t,e){return function(n){return n.attr("transform","translate("+t.marginLeft+", "+t.marginTop+")").call(Wy(t,e))}},Gy=function(){var t,e,n,r=function(i){var a=i.container,o=i.viewport,u=i.size,l=i.axis,f=ot(a),c=Object.assign(Object.assign({},$y),l),d=c.showX,p=c.showY,v=c.labels;if(!d&&n&&e&&(n.remove(),n=null,e.remove(),e=null),!p&&t&&(t.remove(),t=null),d&&!n&&(f.append("line").attr("class","x-axis-separator").attr("x1",u.marginLeft).attr("y1",u.height+u.marginTop).attr("x2",u.width+u.marginLeft).attr("y2",u.height+u.marginTop),f.append("g").attr("class","axis x-axis").call(Ks(u,o)),n=ot(a.querySelector(".x-axis")),e=ot(a.querySelector(".x-axis-separator")),!n))throw new Error("Failed to initialize the axis component");if(p&&!t&&(f.append("g").attr("class","axis y-axis").call(Zs(u,o)),t=ot(a.querySelector(".y-axis")),!t))throw new Error("Failed to initialize the axis component");if(n&&(n.call(Ks(u,o)),e&&e.attr("x1",u.marginLeft).attr("y1",u.height+u.marginTop).attr("x2",u.width+u.marginLeft).attr("y2",u.height+u.marginTop)),t){if(v&&v.yAxis){var b=v.yAxis.content,x=f.select(".y-axis-label");(x.empty()||b!==x.text())&&(x.empty()||x.remove(),f.append("text").attr("class","y-axis-label").attr("transform","translate(10, 10)").text(function(){return b}))}t.call(Zs(u,o))}};return r},jy=function(t){var e=Math.log10(Math.abs(t));return Math.ceil(e)},Xy=function(t){var e=jy(t);return t>0?Math.pow(10,e):-1*Math.pow(10,e)},Js=50,qy=function(t,e){return function(n){var r=e/(t/Js),i=t/Js;return n?Math.ceil(r)*i:Math.floor(r)*i}},Qs=function(t,e){if(t===0)return 0;var n=qy(Xy(t),t);return t<0?n(e):n(!e)},Ky={yMax:1e3,yMin:1},Zy=function(t,e){var n=0;return e===t?n=e!==0?Math.abs(e*.5):.5:n=(e-t)*.15,n},Jy=function(t){var e=t.yValues,n=t.startFromZero;if(e.length===0)return Ky;var r=e.reduce(function(f,c){return{yMin:Math.min(c,f.yMin),yMax:Math.max(c,f.yMax)}},{yMin:1/0,yMax:-1/0}),i=r.yMin>=0,a=r.yMax<=0,o=Zy(r.yMin,r.yMax),u=r.yMax+o,l=r.yMin-o;return(r.yMax!==0||r.yMin!==0)&&(n&&i&&(l=0),n&&a&&(u=0)),{yMin:Qs(l,!0),yMax:Qs(u,!1)}},Qy=function(t){var e=t.points,n=t.yAnnotations,r=t.startFromZero,i=e.map(function(o){return o.y}),a=n.map(function(o){return o.value});return Jy({yValues:Ja(i,a),startFromZero:r})},tw=function(t){var e=t.isLoading,n=t.hasNoDataPresent,r=t.hasNoDataStreamsPresent,i=t.messageOverrides,a=t.displaysNoDataPresentMsg;return w("div",{class:"empty-status",style:(!(n||r)||e)&&{display:"none"}||void 0},!e&&r&&[w("h3",null,i.noDataStreamsPresentHeader||Cf),i.noDataStreamsPresentSubHeader||Mf],!e&&a&&!r&&n&&[w("h3",null,i.noDataPresentHeader||Tf),i.noDataPresentSubHeader||Sf])},ew=function(t){var e=t.supportedDataTypes,n=t.messageOverrides,r=t.hasUnsupportedData,i=t.isLoading,a=t.size,o=a.width,u=a.height;return!r||i?w("div",null):w("div",{id:"unsupported-data-type-error",class:"unsupported-data-type-status",style:{width:o+"px",height:u+"px",padding:"24px",background:"white",border:"solid 4px black"}},w("h2",null,n.unsupportedDataTypeHeader||"Unable to render your data"),w("h2",null,n.unsupportedDataTypeSubHeader||"This chart only supports the following DataType(s):"),w("div",null,n.supportedTypes||e.map(function(l){return w("div",null,l)})))},nw=function(t){var e=t.yPos,n=t.viewport,r=t.size,i=r.height,a=n.yMax,o=n.yMin,u=(i*a-a*e+o*e)/i,l=(a-o)/1e3,f=Math.log(l)/Math.log(10);return+u.toFixed(f>=0?0:-f)},tu=function(t){var e=t.annotationValue,n=t.viewport,r=n.yMax,i=n.yMin,a=i+.01*(r-i),o=i+.99*(r-i);return e<a||e>o},rw=100,iw=.32,aw=90,eu=function(t){var e=t.on,n=t.container,r=t.currentDraggedAnnotation;ot(n).selectAll(jn+","+Gn).filter(function(i){return i!==r}).transition().duration(rw).attr("opacity",e?iw:1)},ow=function(){var t,e=Gl(function(r){var i=r[0],a=r[1];i(a,!1,!1,!0)},aw),n=function(r){var i=r.container,a=r.size,o=r.onUpdate,u=r.activeViewPort,l=r.emitUpdatedWidgetConfiguration,f=r.startStopDragging,c=r.dragHandle,d=r.resolution,p=a.height,v=function(x,D){return"translate(0,"+Zr({annotation:x,height:p,viewport:D})+")"},b=function(x,D){return Zr({annotation:x,height:p,viewport:D})+ql};c.call(Mg().on("start",function(D){var N=D;N.isEditable&&(f(!0),t=+N.value,ot(this).classed("active",!0),eu({container:i,on:!0,currentDraggedAnnotation:D}))}).on("drag",function(D){var N=D;if(N.isEditable){var C=u(),O=$.y,A=nw({yPos:O,viewport:C,size:a});N.value=A,t=A;var k=tu({annotationValue:N.value,viewport:C});k?(o(C,!1,k,!0),C=u()):e([o,C]),ot(i).selectAll(jn).selectAll(Ql).attr("transform",function(T){return v(T,C)}),ot(i).selectAll(Jl).attr("y",function(T){return b(T,C)}),ot(i).selectAll(jn+","+Gn).select(bo).text(function(T){return Hn({annotation:T,resolution:d,viewport:C,formatText:!0})}),ot(i).selectAll(Gn).attr("transform",function(T){return v(T,C)})}}).on("end",function(D){var N=D;if(N.isEditable){N.value=t??N.value;var C=u();l();var O=tu({annotationValue:N.value,viewport:C});o(C,!1,O,!0),ot(this).classed("active",!1),f(!1),eu({container:i,on:!1,currentDraggedAnnotation:D})}}))};return n},sw=.5*mf,uw="iot-app-kit-vis-webgl-base-chart .iot-app-kit-vis-webgl-base-chart{height:0}iot-app-kit-vis-webgl-base-chart .empty-status{z-index:11;position:absolute;width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;text-align:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;pointer-events:none;color:var(--light-text);font-size:var(--font-size-1)}iot-app-kit-vis-webgl-base-chart .empty-status h3{font-size:var(--font-size-3);line-height:var(--line-height-3);padding-bottom:var(--font-size-2);font-weight:normal}iot-app-kit-vis-webgl-base-chart .data-container{position:absolute}iot-app-kit-vis-webgl-base-chart .selection{fill:rgba(41, 168, 221, var(--selection-opacity));stroke-width:var(--selection-width);stroke:var(--selection-color);stroke-opacity:var(--selection-opacity);z-index:11}iot-app-kit-vis-webgl-base-chart .chart-legend-container{-ms-overflow-style:none;scrollbar-width:none}iot-app-kit-vis-webgl-base-chart .chart-legend-container::-webkit-scrollbar{display:none}iot-app-kit-vis-webgl-base-chart .threshold-container{z-index:5;position:absolute;pointer-events:none;font-size:12px}iot-app-kit-vis-webgl-base-chart .trend-container{z-index:4;position:absolute;pointer-events:none}",nu=50,lw=50,ru=50,fw=function(){function t(e){var n=this;kt(this,e),this.widgetUpdated=uf(this,"widgetUpdated",7),this.isEditing=!1,this.renderLegend=function(r){return w("iot-app-kit-vis-legend",Object.assign({},r))},this.annotations={},this.trends=[],this.supportString=!1,this.displaysError=!0,this.supportedDataTypes=Object.values(gf),this.yRangeStartFromZero=!1,this.isMounted=!1,this.yMin=this.viewport.yMin||0,this.yMax=this.viewport.yMax||100,this.start=Tn(this.viewport)?new Date(this.viewport.start):new Date(Date.now()-ji(this.viewport.duration)),this.end=Tn(this.viewport)?new Date(this.viewport.end):new Date,this.trendResults=[],this.axisRenderer=Gy(),this.draggable=ow(),this.isDragging=!1,this.startStopDragging=function(r){n.isDragging=r},this.inDragState=function(){return n.isDragging},this.getAxisContainer=function(){return n.axisContainer||(n.axisContainer=n.el.querySelector("svg.axis")),n.axisContainer},this.throttledSetViewport=Gl(function(r){var i=r[0],a=r[1],o=r[2];n.setViewport({start:i,end:a,group:o},"chart-gesture")},sw),this.emitUpdatedWidgetConfiguration=function(r){var i={movement:void 0,scale:void 0,layout:void 0,legend:n.legend,annotations:n.internalAnnotations,axis:n.axis,widgetId:n.configId,dataStreams:r?xf(r):n.dataStreams};n.widgetUpdated.emit(i)},this.updateDataStreamName=function(r){var i=r.streamId,a=r.name,o=n.dataStreams.map(function(u){return Object.assign(Object.assign({},u),{name:u.id===i?a:u.name})});n.emitUpdatedWidgetConfiguration(o)},this.chartSizeConfig=function(){var r=n.chartSize(),i=r.marginTop,a=r.marginBottom,o=r.marginLeft,u=r.marginRight,l=r.height,f=r.width,c=l-a-i,d=n.legend&&n.legend.position===Rr.RIGHT,p=n.legend&&n.legend.position===Rr.BOTTOM,v=n.visualizedDataStreams().length===0;return Object.assign(Object.assign({},r),{width:Math.max(f-o-u-(d?n.legend.width:0),nu),height:c-(!v&&p?ru:0)})},this.activeViewPort=function(){return{start:n.start,end:n.end,yMin:n.yMin,yMax:n.yMax,group:n.viewport.group,duration:Tn(n.viewport)?void 0:ji(n.viewport.duration)}},this.handleCameraEvent=function(r){var i=r.start,a=r.end;n.scene&&pt.updateViewPorts({start:i,end:a,manager:n.scene})},this.updateYRange=function(){var r=n.dataStreams.filter(So).map(function(l){return gu(l.data,{start:n.start,end:n.end},!1)}).flat(),i=n.internalAnnotations&&Array.isArray(n.internalAnnotations.y)&&n.internalAnnotations.y||[],a=Qy({points:r,yAnnotations:i.filter(function(l){return ff(l.value)}),startFromZero:n.yRangeStartFromZero}),o=a.yMin,u=a.yMax;n.yMin=n.viewport.yMin!=null?n.viewport.yMin:o,n.yMax=n.viewport.yMax!=null?n.viewport.yMax:u,n.applyYRangeChanges()},this.applyYRangeChanges=function(){n.scene&&(n.scene.camera.top=n.yMax,n.scene.camera.bottom=n.yMin,n.scene.camera.updateProjectionMatrix())},this.getDataContainer=function(){return n.dataContainer==null&&(n.dataContainer=n.el.querySelector(".data-container")),n.dataContainer},this.getThresholdContainer=function(){return n.thresholdContainer==null&&(n.thresholdContainer=n.el.querySelector(".threshold-container")),n.thresholdContainer},this.getTrendContainer=function(){return n.trendContainer==null&&(n.trendContainer=n.el.querySelector(".trend-container")),n.trendContainer},this.getHasUnsupportedData=function(){var r=n.visualizedDataStreams();if(r.length===0)return!1;var i=r.filter(function(a){var o=a.dataType;return o!=null});return!i.every(function(a){var o=a.streamType,u=a.dataType;return o===zr.ALARM||n.supportedDataTypes.includes(u)})},this.thresholds=function(){return n.internalAnnotations&&n.internalAnnotations.y?n.internalAnnotations.y.filter(cf):[]},this.getThresholdOptions=function(){if(n.internalAnnotations==null||n.internalAnnotations.thresholdOptions==null)return Xi;var r=n.internalAnnotations.thresholdOptions;return typeof r=="boolean"?r?Xi:bf:Object.assign(Object.assign({},Xi),r)},this.onUpdate=function(r,i,a,o,u){var l=r.start,f=r.end,c=r.shouldBlockSetViewport;if(i===void 0&&(i=!1),a===void 0&&(a=!1),o===void 0&&(o=!1),u===void 0&&(u=!1),!n.getHasUnsupportedData()&&!(!n.scene&&!n.el.isConnected)){if(!n.el.isConnected&&n.scene){console.error("[SynchroCharts] chart with associated scene id of "+n.scene.id+` is disconnected,
         but still being called via the view port manager. removing from the view port manager.`),pt.removeChartScene(n.scene.id),n.scene=null;return}if(!n.scene)throw new Error("[SynchroCharts] Scene is not present but update is being called.");var d=n.start.getTime()!==l.getTime()||n.end.getTime()!==f.getTime();d&&!c&&n.throttledSetViewport([l,f,n.viewport.group]),n.start=l,n.end=f,!n.supportString&&!u&&n.updateYRange(),n.updateAndRegisterChartScene({hasDataChanged:i,hasSizeChanged:a,hasAnnotationChanged:o,shouldRerender:u});var p=n.activeViewPort(),v=n.chartSizeConfig();if(n.onUpdateLifeCycle&&n.onUpdateLifeCycle(n.activeViewPort()),!n.supportString){var b=hf(n.internalAnnotations);wy({container:n.getThresholdContainer(),annotations:b,viewport:p,size:v,resolution:n.dataStreams[0]?n.dataStreams[0].resolution:0,onUpdate:n.onUpdate,activeViewPort:n.activeViewPort,emitUpdatedWidgetConfiguration:n.emitUpdatedWidgetConfiguration,draggable:n.draggable,startStopDragging:n.startStopDragging,inDragState:n.inDragState})}if(!n.supportString){var x=n.visualizedDataStreams().filter(So);n.trendResults=dm(p,x,n.trends),by({container:n.getTrendContainer(),viewport:p,size:v,dataStreams:n.visualizedDataStreams(),trendResults:n.trendResults})}n.axisRenderer({container:n.getAxisContainer(),viewport:p,size:v,axis:n.axis})}},this.setChartRenderingPosition=function(){if(n.scene){var r=n.chartSizeConfig();pt.setChartRect(n.scene.id,{width:r.width,height:r.height,x:n.size.x+r.marginLeft,y:n.size.y+r.marginTop,left:n.size.left+r.marginLeft,top:n.size.top+r.marginTop,right:n.size.left+r.marginLeft+r.width,bottom:n.size.top+r.marginTop+r.height,density:window.devicePixelRatio})}},this.chartSize=function(){var r=n.size.marginLeft==null?gr.size.marginLeft:n.size.marginLeft,i=n.size.marginRight==null?gr.size.marginRight:n.size.marginRight,a=n.size.marginTop==null?gr.size.marginTop:n.size.marginTop,o=n.size.marginBottom==null?gr.size.marginBottom:n.size.marginBottom,u=r+i+nu,l=a+o+lw;return{marginLeft:r,marginRight:i,marginTop:a,marginBottom:o,width:Math.max(n.size.width,u),height:Math.max(n.size.height,l)}},this.renderTooltipComponent=function(r,i,a){return n.renderTooltip({size:n.chartSizeConfig(),style:{marginLeft:r+"px",marginTop:i+"px"},dataStreams:n.dataStreams,viewport:n.activeViewPort(),widgetId:n.configId,baseChartRef:n.el,dataContainer:n.getDataContainer(),thresholds:a,trendResults:n.trendResults,visualizesAlarms:n.visualizesAlarms,aggregationType:n.aggregationType,precision:n.precision})},this.renderLegendComponent=function(r){var i=r.isLoading,a=r.thresholds,o=r.showDataStreamColor;return n.renderLegend({config:n.legend,dataStreams:n.dataStreams,visualizesAlarms:n.visualizesAlarms,updateDataStreamName:n.updateDataStreamName,viewport:n.activeViewPort(),isEditing:n.isEditing,isLoading:i,thresholds:a,supportString:n.supportString,trendResults:n.trendResults,showDataStreamColor:o,precision:n.precision})}}return t.prototype.componentDidLoad=function(){this.el.isConnected&&(this.setupChartScene(),this.isMounted=!0)},t.prototype.componentWillLoad=function(){this.isDragging||this.setInternalAnnotations()},t.prototype.setInternalAnnotations=function(){this.internalAnnotations=ey(this.annotations)},t.prototype.visualizedDataStreams=function(){return this.visualizesAlarms?this.dataStreams:this.dataStreams.filter(function(e){var n=e.streamType;return n!==zr.ALARM})},t.prototype.onViewPortChange=function(e,n){if(this.scene&&!je(e,n)){var r=e.yMin!==n.yMin||e.yMax!==n.yMax;r&&(this.yMin=e.yMin,this.yMax=e.yMax,this.applyYRangeChanges()),this.start=Tn(e)?new Date(e.start):new Date(Date.now()-ji(e.duration)),this.end=Tn(e)?new Date(e.end):new Date,this.scene.updateViewPort(this.activeViewPort()),this.viewport.lastUpdatedBy!=="chart-gesture"&&(pt.updateViewPorts({start:this.start,end:this.end,manager:this.scene,duration:this.activeViewPort().duration}),this.updateAndRegisterChartScene({hasDataChanged:!1,hasSizeChanged:!1,hasAnnotationChanged:!1,shouldRerender:!1}));var i=this.activeViewPort().duration;this.scene!=null&&i!=null&&(pt.stopTick({manager:this.scene}),pt.startTick({manager:this.scene,duration:i,chartSize:this.chartSizeConfig()}))}},t.prototype.onSizeChange=function(e,n){if(je(e,n)||this.onUpdate(this.activeViewPort(),!1,!0),e.width!=null&&e.width!==n.width){var r=this.activeViewPort().duration;this.scene!=null&&r!=null&&(pt.stopTick({manager:this.scene}),pt.startTick({manager:this.scene,duration:r,chartSize:this.chartSizeConfig()}))}},t.prototype.onDataStreamsChange=function(){this.onUpdate(this.activeViewPort(),!0)},t.prototype.onAnnotationsChange=function(e,n){!je(e,n)&&!this.isDragging&&(this.setInternalAnnotations(),this.onUpdate(this.activeViewPort(),!1,!1,!0))},t.prototype.onTrendsChange=function(e,n){je(e,n)||this.onUpdate(this.activeViewPort(),!1)},t.prototype.onAxisChange=function(e,n){var r=this.activeViewPort(),i=this.chartSizeConfig();je(e,n)||this.axisRenderer({container:this.getAxisContainer(),viewport:r,size:i,axis:this.axis})},t.prototype.componentDidUnload=function(){this.scene&&pt.removeChartScene(this.scene.id),this.scene=null},t.prototype.setupChartScene=function(){this.scene=this.createChartScene({viewport:this.activeViewPort(),chartSize:this.chartSizeConfig(),dataStreams:this.visualizedDataStreams(),alarms:this.alarms,container:this.getDataContainer(),minBufferSize:this.minBufferSize,bufferFactor:this.bufferFactor,onUpdate:this.onUpdate,thresholdOptions:this.getThresholdOptions(),thresholds:this.thresholds()});var e=this.activeViewPort().duration;pt.addChartScene({manager:this.scene,duration:e,chartSize:this.chartSizeConfig()}),this.setChartRenderingPosition(),pt.render(this.scene),this.onUpdate(this.activeViewPort())},t.prototype.updateAndRegisterChartScene=function(e){var n=this,r=e.hasDataChanged,i=e.hasSizeChanged,a=e.hasAnnotationChanged,o=e.shouldRerender;if(this.scene){i&&this.setChartRenderingPosition();var u=this.getDataContainer(),l=this.updateChartScene({scene:this.scene,chartSize:this.chartSizeConfig(),dataStreams:this.visualizedDataStreams(),alarms:this.alarms,container:u,viewport:this.activeViewPort(),minBufferSize:this.minBufferSize,bufferFactor:this.bufferFactor,onUpdate:this.onUpdate,thresholdOptions:this.getThresholdOptions(),thresholds:this.thresholds(),hasSizeChanged:i,hasDataChanged:r,shouldRerender:o,hasAnnotationChanged:a}),f=l.id!==this.scene.id;if(f){pt.removeChartScene(this.scene.id),this.scene=l;var c=this.activeViewPort().duration;pt.addChartScene({manager:l,duration:c,shouldSync:!1,chartSize:this.chartSizeConfig()}),this.setChartRenderingPosition()}pt.render(this.scene),i&&window.setTimeout(function(){n.scene&&pt.render(n.scene)},0)}},t.prototype.render=function(){var e=this,n=this.chartSizeConfig(),r=n.marginLeft,i=n.marginTop,a=n.marginRight,o=n.marginBottom,u=this.dataStreams.some(function(v){var b=v.error;return b!=null}),l=!u&&this.visualizedDataStreams().some(function(v){var b=v.isLoading;return b}),f=this.visualizedDataStreams().length===0,c=this.visualizedDataStreams().every(function(v){var b=v.data;if(b.length===0)return!0;var x=b[b.length-1].x<e.start.getTime();return x}),d=this.thresholds(),p=this.legend!=null&&this.legend.showDataStreamColor!=null?this.legend.showDataStreamColor:!0;return[w("div",{class:"awsui iot-app-kit-vis-webgl-base-chart"},this.displaysError&&w(iy,{hasError:u,size:n}),w("iot-app-kit-vis-webgl-axis",{size:n}),w(oy,{size:n},w(tw,{displaysNoDataPresentMsg:this.displaysNoDataPresentMsg!=null?this.displaysNoDataPresentMsg:!0,messageOverrides:this.messageOverrides||{},isLoading:l,hasNoDataPresent:c,hasNoDataStreamsPresent:f}),w(ry,{isLoading:l}),w(ew,{size:n,messageOverrides:this.messageOverrides||{},isLoading:l,supportedDataTypes:this.supportedDataTypes,hasUnsupportedData:this.getHasUnsupportedData()}),this.gestures&&w("iot-app-kit-vis-gesture-handler",{onDateRangeChange:this.handleCameraEvent,size:n,viewport:this.activeViewPort()})),this.legend&&!l&&!f&&w(ay,{config:this.legend,legendHeight:ru,size:n},this.renderLegendComponent({isLoading:l,thresholds:d,showDataStreamColor:p}))),this.isMounted&&this.renderTooltipComponent(r,i,d),w("svg",{class:"threshold-container",width:n.width+a,height:n.height+o,style:{marginLeft:"0",marginTop:i+"px"}}),w("svg",{class:"trend-container",width:n.width,height:n.height,style:{marginLeft:"0",marginTop:i+"px"}})]},Object.defineProperty(t.prototype,"el",{get:function(){return on(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{viewport:["onViewPortChange"],size:["onSizeChange"],legend:["onSizeChange"],dataStreams:["onDataStreamsChange"],annotations:["onAnnotationsChange"],trends:["onTrendsChange"],axis:["onAxisChange"]}},enumerable:!1,configurable:!0}),t}();fw.style=uw;var cw="iot-app-kit-vis-webgl-context{--scroll-bar-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;pointer-events:none}.webgl-context-canvas{position:absolute;left:0;top:0;width:100%;height:100%;max-width:100vw;max-height:100vh;display:block;pointer-events:none;z-index:10}.webgl-context-canvas-viewport{width:calc(100vw - var(--scroll-bar-size));height:calc(100vh - var(--scroll-bar-size))}",hw=function(){function t(e){kt(this,e)}return t.prototype.componentDidLoad=function(){var e=this.el.querySelector("canvas");pt.initRendering(e,this.onContextInitialization,this.viewFrame)},t.prototype.render=function(){var e=this.viewFrame===void 0||this.viewFrame instanceof Window,n="webgl-context-canvas "+(e?"webgl-context-canvas-viewport":"");return w("canvas",{class:n})},Object.defineProperty(t.prototype,"el",{get:function(){return on(this)},enumerable:!1,configurable:!0}),t}();hw.style=cw;export{Nf as iot_app_kit_vis_chart_icon,th as iot_app_kit_vis_data_stream_name,nh as iot_app_kit_vis_error_badge,ih as iot_app_kit_vis_expandable_input,fm as iot_app_kit_vis_gesture_handler,ym as iot_app_kit_vis_legend,Tm as iot_app_kit_vis_legend_row,Cm as iot_app_kit_vis_loading_spinner,Dm as iot_app_kit_vis_size_provider,Rm as iot_app_kit_vis_tooltip,Fm as iot_app_kit_vis_tooltip_row,Sw as iot_app_kit_vis_tooltip_rows,P0 as iot_app_kit_vis_webgl_axis,fw as iot_app_kit_vis_webgl_base_chart,hw as iot_app_kit_vis_webgl_context};
